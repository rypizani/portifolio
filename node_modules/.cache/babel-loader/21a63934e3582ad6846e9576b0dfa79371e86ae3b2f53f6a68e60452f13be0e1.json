{"ast":null,"code":"import { __assign, __spreadArrays, __extends, __rest } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixComplex, mixColor, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport * as styleValueTypes from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport * as easing from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\nvar Chainable = /*#__PURE__*/function () {\n  function Chainable(props) {\n    if (props === void 0) {\n      props = {};\n    }\n    this.props = props;\n  }\n  Chainable.prototype.applyMiddleware = function (middleware) {\n    return this.create(__assign(__assign({}, this.props), {\n      middleware: this.props.middleware ? __spreadArrays([middleware], this.props.middleware) : [middleware]\n    }));\n  };\n  Chainable.prototype.pipe = function () {\n    var funcs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      funcs[_i] = arguments[_i];\n    }\n    var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return update(pipedUpdate(v));\n      };\n    });\n  };\n  Chainable.prototype.while = function (predicate) {\n    return this.applyMiddleware(function (update, complete) {\n      return function (v) {\n        return predicate(v) ? update(v) : complete();\n      };\n    });\n  };\n  Chainable.prototype.filter = function (predicate) {\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return predicate(v) && update(v);\n      };\n    });\n  };\n  return Chainable;\n}();\nvar Observer = /*#__PURE__*/function () {\n  function Observer(_a, observer) {\n    var _this = this;\n    var middleware = _a.middleware,\n      onComplete = _a.onComplete;\n    this.isActive = true;\n    this.update = function (v) {\n      if (_this.observer.update) _this.updateObserver(v);\n    };\n    this.complete = function () {\n      if (_this.observer.complete && _this.isActive) _this.observer.complete();\n      if (_this.onComplete) _this.onComplete();\n      _this.isActive = false;\n    };\n    this.error = function (err) {\n      if (_this.observer.error && _this.isActive) _this.observer.error(err);\n      _this.isActive = false;\n    };\n    this.observer = observer;\n    this.updateObserver = function (v) {\n      return observer.update(v);\n    };\n    this.onComplete = onComplete;\n    if (observer.update && middleware && middleware.length) {\n      middleware.forEach(function (m) {\n        return _this.updateObserver = m(_this.updateObserver, _this.complete);\n      });\n    }\n  }\n  return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n  var middleware = _a.middleware;\n  if (typeof observerCandidate === 'function') {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, {\n      update: observerCandidate\n    });\n  } else {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, observerCandidate);\n  }\n};\nvar Action = /*#__PURE__*/function (_super) {\n  __extends(Action, _super);\n  function Action() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Action.prototype.create = function (props) {\n    return new Action(props);\n  };\n  Action.prototype.start = function (observerCandidate) {\n    if (observerCandidate === void 0) {\n      observerCandidate = {};\n    }\n    var isComplete = false;\n    var subscription = {\n      stop: function () {\n        return undefined;\n      }\n    };\n    var _a = this.props,\n      init = _a.init,\n      observerProps = __rest(_a, [\"init\"]);\n    var observer = createObserver(observerCandidate, observerProps, function () {\n      isComplete = true;\n      subscription.stop();\n    });\n    var api = init(observer);\n    subscription = api ? __assign(__assign({}, subscription), api) : subscription;\n    if (observerCandidate.registerParent) {\n      observerCandidate.registerParent(subscription);\n    }\n    if (isComplete) subscription.stop();\n    return subscription;\n  };\n  return Action;\n}(Chainable);\nvar action = function (init) {\n  return new Action({\n    init: init\n  });\n};\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n  __extends(BaseMulticast, _super);\n  function BaseMulticast() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.subscribers = [];\n    return _this;\n  }\n  BaseMulticast.prototype.complete = function () {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.complete();\n    });\n  };\n  BaseMulticast.prototype.error = function (err) {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.error(err);\n    });\n  };\n  BaseMulticast.prototype.update = function (v) {\n    for (var i = 0; i < this.subscribers.length; i++) {\n      this.subscribers[i].update(v);\n    }\n  };\n  BaseMulticast.prototype.subscribe = function (observerCandidate) {\n    var _this = this;\n    var observer = createObserver(observerCandidate, this.props);\n    this.subscribers.push(observer);\n    var subscription = {\n      unsubscribe: function () {\n        var index = _this.subscribers.indexOf(observer);\n        if (index !== -1) _this.subscribers.splice(index, 1);\n      }\n    };\n    return subscription;\n  };\n  BaseMulticast.prototype.stop = function () {\n    if (this.parent) this.parent.stop();\n  };\n  BaseMulticast.prototype.registerParent = function (subscription) {\n    this.stop();\n    this.parent = subscription;\n  };\n  return BaseMulticast;\n}(Chainable);\nvar Multicast = /*#__PURE__*/function (_super) {\n  __extends(Multicast, _super);\n  function Multicast() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Multicast.prototype.create = function (props) {\n    return new Multicast(props);\n  };\n  return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n  return new Multicast();\n};\nvar stepProgress = function (steps, progress) {\n  var segment = 1 / (steps - 1);\n  var subsegment = 1 / (2 * (steps - 1));\n  var percentProgressOfTarget = Math.min(progress, 1);\n  var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n  var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n  return segmentProgressOfTarget * segment;\n};\nvar calc = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  angle: angle,\n  degreesToRadians: degreesToRadians,\n  distance: distance,\n  isPoint3D: isPoint3D,\n  isPoint: isPoint,\n  dilate: mix,\n  getValueFromProgress: mix,\n  pointFromAngleAndDistance: pointFromVector,\n  getProgressFromValue: progress,\n  radiansToDegrees: radiansToDegrees,\n  smooth: smoothFrame,\n  speedPerFrame: velocityPerFrame,\n  speedPerSecond: velocityPerSecond,\n  stepProgress: stepProgress\n});\nvar isValueList = function (v) {\n  return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n  var typeOfV = typeof v;\n  return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n  __extends(ValueReaction, _super);\n  function ValueReaction(props) {\n    var _this = _super.call(this, props) || this;\n    _this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n    _this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n      }\n    };\n    _this.prev = _this.current = props.value || 0;\n    if (isSingleValue(_this.current)) {\n      _this.updateCurrent = function (v) {\n        return _this.current = v;\n      };\n      _this.getVelocityOfCurrent = function () {\n        return _this.getSingleVelocity(_this.current, _this.prev);\n      };\n    } else if (isValueList(_this.current)) {\n      _this.updateCurrent = function (v) {\n        return _this.current = __spreadArrays(v);\n      };\n      _this.getVelocityOfCurrent = function () {\n        return _this.getListVelocity();\n      };\n    } else {\n      _this.updateCurrent = function (v) {\n        _this.current = {};\n        for (var key in v) {\n          if (v.hasOwnProperty(key)) {\n            _this.current[key] = v[key];\n          }\n        }\n      };\n      _this.getVelocityOfCurrent = function () {\n        return _this.getMapVelocity();\n      };\n    }\n    if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n    return _this;\n  }\n  ValueReaction.prototype.create = function (props) {\n    return new ValueReaction(props);\n  };\n  ValueReaction.prototype.get = function () {\n    return this.current;\n  };\n  ValueReaction.prototype.getVelocity = function () {\n    return this.getVelocityOfCurrent();\n  };\n  ValueReaction.prototype.update = function (v) {\n    _super.prototype.update.call(this, v);\n    this.prev = this.current;\n    this.updateCurrent(v);\n    var _a = getFrameData(),\n      delta = _a.delta,\n      timestamp = _a.timestamp;\n    this.timeDelta = delta;\n    this.lastUpdated = timestamp;\n    sync.postRender(this.scheduleVelocityCheck);\n  };\n  ValueReaction.prototype.subscribe = function (observerCandidate) {\n    var sub = _super.prototype.subscribe.call(this, observerCandidate);\n    this.subscribers[this.subscribers.length - 1].update(this.current);\n    return sub;\n  };\n  ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n    return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n  };\n  ValueReaction.prototype.getListVelocity = function () {\n    var _this = this;\n    return this.current.map(function (c, i) {\n      return _this.getSingleVelocity(c, _this.prev[i]);\n    });\n  };\n  ValueReaction.prototype.getMapVelocity = function () {\n    var velocity = {};\n    for (var key in this.current) {\n      if (this.current.hasOwnProperty(key)) {\n        velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n      }\n    }\n    return velocity;\n  };\n  return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n  return new ValueReaction({\n    value: value,\n    initialSubscription: initialSubscription\n  });\n};\nvar multi = function (_a) {\n  var getCount = _a.getCount,\n    getFirst = _a.getFirst,\n    getOutput = _a.getOutput,\n    mapApi = _a.mapApi,\n    setProp = _a.setProp,\n    startActions = _a.startActions;\n  return function (actions) {\n    return action(function (_a) {\n      var update = _a.update,\n        complete = _a.complete,\n        error = _a.error;\n      var numActions = getCount(actions);\n      var output = getOutput();\n      var updateOutput = function () {\n        return update(output);\n      };\n      var numCompletedActions = 0;\n      var subs = startActions(actions, function (a, name) {\n        var hasCompleted = false;\n        return a.start({\n          complete: function () {\n            if (!hasCompleted) {\n              hasCompleted = true;\n              numCompletedActions++;\n              if (numCompletedActions === numActions) sync.update(complete);\n            }\n          },\n          error: error,\n          update: function (v) {\n            setProp(output, name, v);\n            sync.update(updateOutput, false, true);\n          }\n        });\n      });\n      return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n        api[methodName] = mapApi(subs, methodName);\n        return api;\n      }, {});\n    });\n  };\n};\nvar composite = /*#__PURE__*/multi({\n  getOutput: function () {\n    return {};\n  },\n  getCount: function (subs) {\n    return Object.keys(subs).length;\n  },\n  getFirst: function (subs) {\n    return subs[Object.keys(subs)[0]];\n  },\n  mapApi: function (subs, methodName) {\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return Object.keys(subs).reduce(function (output, propKey) {\n        var _a;\n        if (subs[propKey][methodName]) {\n          args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n        }\n        return output;\n      }, {});\n    };\n  },\n  setProp: function (output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function (actions, starter) {\n    return Object.keys(actions).reduce(function (subs, key) {\n      subs[key] = starter(actions[key], key);\n      return subs;\n    }, {});\n  }\n});\nvar parallel = /*#__PURE__*/multi({\n  getOutput: function () {\n    return [];\n  },\n  getCount: function (subs) {\n    return subs.length;\n  },\n  getFirst: function (subs) {\n    return subs[0];\n  },\n  mapApi: function (subs, methodName) {\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return subs.map(function (sub, i) {\n        if (sub[methodName]) {\n          return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n        }\n      });\n    };\n  },\n  setProp: function (output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function (actions, starter) {\n    return actions.map(function (action, i) {\n      return starter(action, i);\n    });\n  }\n});\nvar parallel$1 = function () {\n  var actions = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n  return parallel(actions);\n};\nvar createVectorTests = function (typeTests) {\n  var testNames = Object.keys(typeTests);\n  var isVectorProp = function (prop, key) {\n    return prop !== undefined && !typeTests[key](prop);\n  };\n  var getVectorKeys = function (props) {\n    return testNames.reduce(function (vectorKeys, key) {\n      if (isVectorProp(props[key], key)) vectorKeys.push(key);\n      return vectorKeys;\n    }, []);\n  };\n  var testVectorProps = function (props) {\n    return props && testNames.some(function (key) {\n      return isVectorProp(props[key], key);\n    });\n  };\n  return {\n    getVectorKeys: getVectorKeys,\n    testVectorProps: testVectorProps\n  };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n  return unitTypes.find(function (type) {\n    return type.test(prop);\n  });\n};\nvar isUnitProp = function (prop) {\n  return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n  return action(props);\n};\nvar reduceArrayValue = function (i) {\n  return function (props, key) {\n    props[key] = props[key][i];\n    return props;\n  };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n  var firstVectorKey = vectorKeys[0];\n  var actionList = props[firstVectorKey].map(function (v, i) {\n    var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n    return getActionCreator(v)(action, childActionProps);\n  });\n  return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n  return function (props, propKey) {\n    props[propKey] = props[propKey][key];\n    return props;\n  };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n  var firstVectorKey = vectorKeys[0];\n  var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n    var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n    map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n    return map;\n  }, {});\n  return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n  var from = _a.from,\n    to = _a.to,\n    props = __rest(_a, [\"from\", \"to\"]);\n  var unitType = findUnitType(from) || findUnitType(to);\n  var transform = unitType.transform,\n    parse = unitType.parse;\n  return action(__assign(__assign({}, props), {\n    from: typeof from === 'string' ? parse(from) : from,\n    to: typeof to === 'string' ? parse(to) : to\n  })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n  return function (action, _a) {\n    var from = _a.from,\n      to = _a.to,\n      props = __rest(_a, [\"from\", \"to\"]);\n    return action(__assign(__assign({}, props), {\n      from: 0,\n      to: 1\n    })).pipe(mixer(from, to));\n  };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n  var _a = createVectorTests(typeTests),\n    testVectorProps = _a.testVectorProps,\n    getVectorKeys = _a.getVectorKeys;\n  var vectorAction = function (props) {\n    var isVector = testVectorProps(props);\n    if (!isVector) return action(props);\n    var vectorKeys = getVectorKeys(props);\n    var testKey = vectorKeys[0];\n    var testProp = props[testKey];\n    return getActionCreator(testProp)(action, props, vectorKeys);\n  };\n  return vectorAction;\n};\nvar getActionCreator = function (prop) {\n  if (typeof prop === 'number') {\n    return createAction;\n  } else if (Array.isArray(prop)) {\n    return createArrayAction;\n  } else if (isUnitProp(prop)) {\n    return createUnitAction;\n  } else if (color.test(prop)) {\n    return createColorAction;\n  } else if (complex.test(prop)) {\n    return createComplexAction;\n  } else if (typeof prop === 'object') {\n    return createObjectAction;\n  } else {\n    return createAction;\n  }\n};\nvar decay = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n  return action(function (_a) {\n    var complete = _a.complete,\n      update = _a.update;\n    var _b = props.velocity,\n      velocity = _b === void 0 ? 0 : _b,\n      _c = props.from,\n      from = _c === void 0 ? 0 : _c,\n      _d = props.power,\n      power = _d === void 0 ? 0.8 : _d,\n      _e = props.timeConstant,\n      timeConstant = _e === void 0 ? 350 : _e,\n      _f = props.restDelta,\n      restDelta = _f === void 0 ? 0.5 : _f,\n      modifyTarget = props.modifyTarget;\n    var elapsed = 0;\n    var amplitude = power * velocity;\n    var idealTarget = from + amplitude;\n    var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n    if (target !== idealTarget) amplitude = target - from;\n    var process = sync.update(function (_a) {\n      var frameDelta = _a.delta;\n      elapsed += frameDelta;\n      var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n      var isMoving = delta > restDelta || delta < -restDelta;\n      var current = isMoving ? target + delta : target;\n      update(current);\n      if (!isMoving) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n  from: number.test,\n  modifyTarget: function (func) {\n    return typeof func === 'function';\n  },\n  velocity: number.test\n});\nvar spring = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n  return action(function (_a) {\n    var update = _a.update,\n      complete = _a.complete;\n    var _b = props.velocity,\n      velocity = _b === void 0 ? 0.0 : _b;\n    var _c = props.from,\n      from = _c === void 0 ? 0.0 : _c,\n      _d = props.to,\n      to = _d === void 0 ? 0.0 : _d,\n      _e = props.stiffness,\n      stiffness = _e === void 0 ? 100 : _e,\n      _f = props.damping,\n      damping = _f === void 0 ? 10 : _f,\n      _g = props.mass,\n      mass = _g === void 0 ? 1.0 : _g,\n      _h = props.restSpeed,\n      restSpeed = _h === void 0 ? 0.01 : _h,\n      _j = props.restDelta,\n      restDelta = _j === void 0 ? 0.01 : _j;\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var t = 0;\n    var delta = to - from;\n    var position = from;\n    var prevPosition = position;\n    var process = sync.update(function (_a) {\n      var timeDelta = _a.delta;\n      t += timeDelta;\n      var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n      var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n      prevPosition = position;\n      if (dampingRatio < 1) {\n        var envelope = Math.exp(-dampingRatio * angularFreq * t);\n        var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n        position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n      } else {\n        var envelope = Math.exp(-angularFreq * t);\n        position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n      }\n      velocity = velocityPerSecond(position - prevPosition, timeDelta);\n      var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n      var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n      if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n        position = to;\n        update(position);\n        cancelSync.update(process);\n        complete();\n      } else {\n        update(position);\n      }\n    }, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n  from: number.test,\n  to: number.test,\n  stiffness: number.test,\n  damping: number.test,\n  mass: number.test,\n  velocity: number.test\n});\nvar inertia = function (_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.velocity,\n    velocity = _c === void 0 ? 0 : _c,\n    min = _a.min,\n    max = _a.max,\n    _d = _a.power,\n    power = _d === void 0 ? 0.8 : _d,\n    _e = _a.timeConstant,\n    timeConstant = _e === void 0 ? 700 : _e,\n    _f = _a.bounceStiffness,\n    bounceStiffness = _f === void 0 ? 500 : _f,\n    _g = _a.bounceDamping,\n    bounceDamping = _g === void 0 ? 10 : _g,\n    _h = _a.restDelta,\n    restDelta = _h === void 0 ? 1 : _h,\n    modifyTarget = _a.modifyTarget;\n  return action(function (_a) {\n    var update = _a.update,\n      complete = _a.complete;\n    var prev = from;\n    var current = from;\n    var activeAnimation;\n    var isOutOfBounds = function (v) {\n      return min !== undefined && v < min || max !== undefined && v > max;\n    };\n    var boundaryNearest = function (v) {\n      return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    var startAnimation = function (animation, next) {\n      activeAnimation && activeAnimation.stop();\n      activeAnimation = animation.start({\n        update: update,\n        complete: function () {\n          if (next) {\n            next();\n            return;\n          }\n          complete();\n        }\n      });\n    };\n    var startSpring = function (props) {\n      startAnimation(spring(__assign(__assign({}, props), {\n        stiffness: bounceStiffness,\n        damping: bounceDamping,\n        restDelta: restDelta\n      })));\n    };\n    if (isOutOfBounds(from)) {\n      startSpring({\n        from: from,\n        velocity: velocity,\n        to: boundaryNearest(from)\n      });\n    } else {\n      var to = power * velocity + from;\n      if (typeof modifyTarget !== 'undefined') {\n        to = modifyTarget(to);\n        modifyTarget = void 0;\n        velocity = (to - from) / power;\n      }\n      var animation = decay({\n        from: from,\n        velocity: velocity,\n        timeConstant: timeConstant,\n        power: power,\n        restDelta: restDelta,\n        modifyTarget: modifyTarget\n      });\n      var next = void 0;\n      if (isOutOfBounds(to)) {\n        var boundary_1 = boundaryNearest(to);\n        var heading_1 = boundary_1 == min ? -1 : 1;\n        animation = animation.while(function (v) {\n          prev = current;\n          velocity = velocityPerSecond(v - prev, getFrameData().delta);\n          current = v;\n          return boundary_1 - v * heading_1 > 0;\n        });\n        next = function () {\n          return startSpring({\n            from: current,\n            to: boundary_1,\n            velocity: velocity\n          });\n        };\n      }\n      startAnimation(animation, next);\n    }\n    return {\n      stop: function () {\n        return activeAnimation && activeAnimation.stop();\n      }\n    };\n  });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n  from: number.test,\n  velocity: number.test,\n  min: number.test,\n  max: number.test,\n  damping: number.test,\n  stiffness: number.test,\n  modifyTarget: function (func) {\n    return typeof func === 'function';\n  }\n});\nvar frame = function () {\n  return action(function (_a) {\n    var update = _a.update;\n    var initialTime = 0;\n    var process = sync.update(function (_a) {\n      var timestamp = _a.timestamp;\n      if (!initialTime) initialTime = timestamp;\n      update(timestamp - initialTime);\n    }, true, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\nvar scrubber = function (_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.to,\n    to = _c === void 0 ? 1 : _c,\n    _d = _a.ease,\n    ease = _d === void 0 ? linear : _d,\n    _e = _a.reverseEase,\n    reverseEase = _e === void 0 ? false : _e;\n  if (reverseEase) {\n    ease = createReversedEasing(ease);\n  }\n  return action(function (_a) {\n    var update = _a.update;\n    return {\n      seek: function (progress) {\n        return update(progress);\n      }\n    };\n  }).pipe(ease, function (v) {\n    return mix(from, to, v);\n  });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n  ease: function (func) {\n    return typeof func === 'function';\n  },\n  from: number.test,\n  to: number.test\n});\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n  return action(function (_a) {\n    var update = _a.update,\n      complete = _a.complete;\n    var _b = props.duration,\n      duration = _b === void 0 ? 300 : _b,\n      _c = props.ease,\n      ease = _c === void 0 ? easeOut : _c,\n      _d = props.flip,\n      flip = _d === void 0 ? 0 : _d,\n      _e = props.loop,\n      loop = _e === void 0 ? 0 : _e,\n      _f = props.yoyo,\n      yoyo = _f === void 0 ? 0 : _f,\n      _g = props.repeatDelay,\n      repeatDelay = _g === void 0 ? 0 : _g;\n    var _h = props.from,\n      from = _h === void 0 ? 0 : _h,\n      _j = props.to,\n      to = _j === void 0 ? 1 : _j,\n      _k = props.elapsed,\n      elapsed = _k === void 0 ? 0 : _k,\n      _l = props.flipCount,\n      flipCount = _l === void 0 ? 0 : _l,\n      _m = props.yoyoCount,\n      yoyoCount = _m === void 0 ? 0 : _m,\n      _o = props.loopCount,\n      loopCount = _o === void 0 ? 0 : _o;\n    var playhead = vectorScrubber({\n      from: from,\n      to: to,\n      ease: ease\n    }).start(update);\n    var currentProgress = 0;\n    var process;\n    var isActive = false;\n    var reverseAnimation = function (reverseEase) {\n      var _a;\n      if (reverseEase === void 0) {\n        reverseEase = false;\n      }\n      _a = [to, from], from = _a[0], to = _a[1];\n      playhead = vectorScrubber({\n        from: from,\n        to: to,\n        ease: ease,\n        reverseEase: reverseEase\n      }).start(update);\n    };\n    var isTweenComplete = function () {\n      var isComplete = isActive && elapsed > duration + repeatDelay;\n      if (!isComplete) return false;\n      if (isComplete && !loop && !flip && !yoyo) return true;\n      elapsed = duration - (elapsed - repeatDelay);\n      if (loop && loopCount < loop) {\n        loopCount++;\n        return false;\n      } else if (flip && flipCount < flip) {\n        flipCount++;\n        reverseAnimation();\n        return false;\n      } else if (yoyo && yoyoCount < yoyo) {\n        yoyoCount++;\n        reverseAnimation(yoyoCount % 2 !== 0);\n        return false;\n      }\n      return true;\n    };\n    var updateTween = function () {\n      currentProgress = clampProgress(progress(0, duration, elapsed));\n      playhead.seek(currentProgress);\n    };\n    var startTimer = function () {\n      isActive = true;\n      process = sync.update(function (_a) {\n        var delta = _a.delta;\n        elapsed += delta;\n        updateTween();\n        if (isTweenComplete()) {\n          cancelSync.update(process);\n          complete && sync.update(complete, false, true);\n        }\n      }, true);\n    };\n    var stopTimer = function () {\n      isActive = false;\n      if (process) cancelSync.update(process);\n    };\n    startTimer();\n    return {\n      isActive: function () {\n        return isActive;\n      },\n      getElapsed: function () {\n        return clamp(0, duration, elapsed);\n      },\n      getProgress: function () {\n        return currentProgress;\n      },\n      stop: function () {\n        stopTimer();\n      },\n      pause: function () {\n        stopTimer();\n        return this;\n      },\n      resume: function () {\n        if (!isActive) startTimer();\n        return this;\n      },\n      seek: function (newProgress) {\n        elapsed = mix(0, duration, newProgress);\n        sync.update(updateTween, false, true);\n        return this;\n      },\n      reverse: function () {\n        reverseAnimation();\n        return this;\n      }\n    };\n  });\n};\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n  return values.map(function () {\n    return easing || easeOut;\n  }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n  var numValues = values.length;\n  return values.map(function (value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n  var rangeLength = input.length;\n  var finalInputIndex = rangeLength - 1;\n  var finalScrubberIndex = finalInputIndex - 1;\n  var subs = scrubbers.map(function (scrub) {\n    return scrub.start(update);\n  });\n  return function (v) {\n    if (v <= input[0]) {\n      subs[0].seek(0);\n    }\n    if (v >= input[finalInputIndex]) {\n      subs[finalScrubberIndex].seek(1);\n    }\n    var i = 1;\n    for (; i < rangeLength; i++) {\n      if (input[i] > v || i === finalInputIndex) break;\n    }\n    var progressInRange = progress(input[i - 1], input[i], v);\n    subs[i - 1].seek(clampProgress$1(progressInRange));\n  };\n};\nvar keyframes = function (_a) {\n  var easings = _a.easings,\n    _b = _a.ease,\n    ease = _b === void 0 ? linear : _b,\n    times = _a.times,\n    values = _a.values,\n    tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n  easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n  times = times || defaultTimings(values);\n  var scrubbers = easings.map(function (easing, i) {\n    return vectorScrubber({\n      from: values[i],\n      to: values[i + 1],\n      ease: easing\n    });\n  });\n  return tween(__assign(__assign({}, tweenProps), {\n    ease: ease\n  })).applyMiddleware(function (update) {\n    return interpolateScrubbers(times, scrubbers, update);\n  });\n};\nvar physics = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n  return action(function (_a) {\n    var complete = _a.complete,\n      update = _a.update;\n    var _b = props.acceleration,\n      acceleration = _b === void 0 ? 0 : _b,\n      _c = props.friction,\n      friction = _c === void 0 ? 0 : _c,\n      _d = props.velocity,\n      velocity = _d === void 0 ? 0 : _d,\n      springStrength = props.springStrength,\n      to = props.to;\n    var _e = props.restSpeed,\n      restSpeed = _e === void 0 ? 0.001 : _e,\n      _f = props.from,\n      from = _f === void 0 ? 0 : _f;\n    var current = from;\n    var process = sync.update(function (_a) {\n      var delta = _a.delta;\n      var elapsed = Math.max(delta, 16);\n      if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n      if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n      if (springStrength !== undefined && to !== undefined) {\n        var distanceToTarget = to - current;\n        velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n      }\n      current += velocityPerFrame(velocity, elapsed);\n      update(current);\n      var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n      if (isComplete) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      set: function (v) {\n        current = v;\n        return this;\n      },\n      setAcceleration: function (v) {\n        acceleration = v;\n        return this;\n      },\n      setFriction: function (v) {\n        friction = v;\n        return this;\n      },\n      setSpringStrength: function (v) {\n        springStrength = v;\n        return this;\n      },\n      setSpringTarget: function (v) {\n        to = v;\n        return this;\n      },\n      setVelocity: function (v) {\n        velocity = v;\n        return this;\n      },\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n  acceleration: number.test,\n  friction: number.test,\n  velocity: number.test,\n  from: number.test,\n  to: number.test,\n  springStrength: number.test\n});\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n  var flatInstructions = [];\n  var lastArg = instructions[instructions.length - 1];\n  var isStaggered = typeof lastArg === 'number';\n  var staggerDelay = isStaggered ? lastArg : 0;\n  var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n  var numSegments = segments.length;\n  var offset = 0;\n  segments.forEach(function (item, i) {\n    flatInstructions.push(item);\n    if (i !== numSegments - 1) {\n      var duration = item.duration || DEFAULT_DURATION;\n      offset = staggerDelay;\n      flatInstructions.push(\"\" + (offset - duration));\n    }\n  });\n  return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n  Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n  return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n  var duration = props.duration,\n    easings = props.easings,\n    times = props.times,\n    values = props.values;\n  var numValues = values.length;\n  var prevTimeTo = times[numValues - 1];\n  var timeFrom = def.at === 0 ? 0 : def.at / duration;\n  var timeTo = (def.at + def.duration) / duration;\n  if (i === 0) {\n    values.push(def.from);\n    times.push(timeFrom);\n  } else {\n    if (prevTimeTo !== timeFrom) {\n      if (def.from !== undefined) {\n        values.push(values[numValues - 1]);\n        times.push(timeFrom);\n        easings.push(linear);\n      }\n      var from = def.from !== undefined ? def.from : values[numValues - 1];\n      values.push(from);\n      times.push(timeFrom);\n      easings.push(linear);\n    } else if (def.from !== undefined) {\n      values.push(def.from);\n      times.push(timeFrom);\n      easings.push(linear);\n    }\n  }\n  values.push(def.to);\n  times.push(timeTo);\n  easings.push(def.ease || easeInOut);\n  return props;\n};\nvar timeline = function (instructions, _a) {\n  var _b = _a === void 0 ? {} : _a,\n    duration = _b.duration,\n    elapsed = _b.elapsed,\n    ease = _b.ease,\n    loop = _b.loop,\n    flip = _b.flip,\n    yoyo = _b.yoyo;\n  var playhead = 0;\n  var calculatedDuration = 0;\n  var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n  var animationDefs = [];\n  flatInstructions.forEach(function (instruction) {\n    if (typeof instruction === 'string') {\n      playhead += parseFloat(instruction);\n    } else if (typeof instruction === 'number') {\n      playhead = instruction;\n    } else {\n      var def = __assign(__assign({}, instruction), {\n        at: playhead\n      });\n      def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n      animationDefs.push(def);\n      playhead += def.duration;\n      calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n    }\n  });\n  var tracks = {};\n  var numDefs = animationDefs.length;\n  for (var i = 0; i < numDefs; i++) {\n    var def = animationDefs[i];\n    var track = def.track;\n    if (track === undefined) {\n      throw new Error('No track defined');\n    }\n    if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n    tracks[track].push(def);\n  }\n  var trackKeyframes = {};\n  for (var key in tracks) {\n    if (tracks.hasOwnProperty(key)) {\n      var keyframeProps = tracks[key].reduce(convertDefToProps, {\n        duration: calculatedDuration,\n        easings: [],\n        times: [],\n        values: []\n      });\n      trackKeyframes[key] = keyframes(__assign(__assign({}, keyframeProps), {\n        duration: duration || calculatedDuration,\n        ease: ease,\n        elapsed: elapsed,\n        loop: loop,\n        yoyo: yoyo,\n        flip: flip\n      }));\n    }\n  }\n  return composite(trackKeyframes);\n};\nvar listen = function (element, events, options) {\n  return action(function (_a) {\n    var update = _a.update;\n    var eventNames = events.split(' ').map(function (eventName) {\n      element.addEventListener(eventName, update, options);\n      return eventName;\n    });\n    return {\n      stop: function () {\n        return eventNames.forEach(function (eventName) {\n          return element.removeEventListener(eventName, update, options);\n        });\n      }\n    };\n  });\n};\nvar defaultPointerPos = function () {\n  return {\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    x: 0,\n    y: 0\n  };\n};\nvar eventToPoint = function (e, point) {\n  if (point === void 0) {\n    point = defaultPointerPos();\n  }\n  point.clientX = point.x = e.clientX;\n  point.clientY = point.y = e.clientY;\n  point.pageX = e.pageX;\n  point.pageY = e.pageY;\n  return point;\n};\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n  var updatePointsLocation = function (_a) {\n    var touches = _a.touches;\n    isTouchDevice = true;\n    var numTouches = touches.length;\n    points.length = 0;\n    for (var i = 0; i < numTouches; i++) {\n      var thisTouch = touches[i];\n      points.push(eventToPoint(thisTouch));\n    }\n  };\n  listen(document, 'touchstart touchmove', {\n    passive: true,\n    capture: true\n  }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n  var _b = _a === void 0 ? {} : _a,\n    _c = _b.preventDefault,\n    preventDefault = _c === void 0 ? true : _c,\n    _d = _b.scale,\n    scale = _d === void 0 ? 1.0 : _d,\n    _e = _b.rotate,\n    rotate = _e === void 0 ? 0.0 : _e;\n  return action(function (_a) {\n    var update = _a.update;\n    var output = {\n      touches: points,\n      scale: scale,\n      rotate: rotate\n    };\n    var initialDistance = 0.0;\n    var initialRotation = 0.0;\n    var isGesture = points.length > 1;\n    if (isGesture) {\n      var firstTouch = points[0],\n        secondTouch = points[1];\n      initialDistance = distance(firstTouch, secondTouch);\n      initialRotation = angle(firstTouch, secondTouch);\n    }\n    var updatePoint = function () {\n      if (isGesture) {\n        var firstTouch = points[0],\n          secondTouch = points[1];\n        var newDistance = distance(firstTouch, secondTouch);\n        var newRotation = angle(firstTouch, secondTouch);\n        output.scale = scale * (newDistance / initialDistance);\n        output.rotate = rotate + (newRotation - initialRotation);\n      }\n      update(output);\n    };\n    var onMove = function (e) {\n      if (preventDefault || e.touches.length > 1) e.preventDefault();\n      sync.update(updatePoint);\n    };\n    var updateOnMove = listen(document, 'touchmove', {\n      passive: !preventDefault\n    }).start(onMove);\n    if (isTouchDevice) sync.update(updatePoint);\n    return {\n      stop: function () {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\nvar getIsTouchDevice = function () {\n  return isTouchDevice;\n};\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n  var updatePointLocation = function (e) {\n    isMouseDevice = true;\n    eventToPoint(e, point);\n  };\n  listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n  var _b = (_a === void 0 ? {} : _a).preventDefault,\n    preventDefault = _b === void 0 ? true : _b;\n  return action(function (_a) {\n    var update = _a.update;\n    var updatePoint = function () {\n      return update(point);\n    };\n    var onMove = function (e) {\n      if (preventDefault) e.preventDefault();\n      sync.update(updatePoint);\n    };\n    var updateOnMove = listen(document, 'mousemove').start(onMove);\n    if (isMouseDevice) sync.update(updatePoint);\n    return {\n      stop: function () {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\nvar getFirstTouch = function (_a) {\n  var firstTouch = _a[0];\n  return firstTouch;\n};\nvar pointer = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n  return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n    var touches = _a.touches;\n    return touches;\n  }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n  if (_a === void 0) {\n    _a = {};\n  }\n  var x = _a.x,\n    y = _a.y,\n    props = __rest(_a, [\"x\", \"y\"]);\n  if (x !== undefined || y !== undefined) {\n    var applyXOffset_1 = applyOffset(x || 0);\n    var applyYOffset_1 = applyOffset(y || 0);\n    var delta_1 = {\n      x: 0,\n      y: 0\n    };\n    return pointer(props).pipe(function (point) {\n      delta_1.x = applyXOffset_1(point.x);\n      delta_1.y = applyYOffset_1(point.y);\n      return delta_1;\n    });\n  } else {\n    return pointer(props);\n  }\n};\nvar chain = function () {\n  var actions = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n  return action(function (_a) {\n    var update = _a.update,\n      complete = _a.complete;\n    var i = 0;\n    var current;\n    var playCurrent = function () {\n      current = actions[i].start({\n        complete: function () {\n          i++;\n          i >= actions.length ? complete() : playCurrent();\n        },\n        update: update\n      });\n    };\n    playCurrent();\n    return {\n      stop: function () {\n        return current && current.stop();\n      }\n    };\n  });\n};\nvar crossfade = function (a, b) {\n  return action(function (observer) {\n    var balance = 0;\n    var fadable = parallel$1(a, b).start(__assign(__assign({}, observer), {\n      update: function (_a) {\n        var va = _a[0],\n          vb = _a[1];\n        observer.update(mix(va, vb, balance));\n      }\n    }));\n    return {\n      setBalance: function (v) {\n        return balance = v;\n      },\n      stop: function () {\n        return fadable.stop();\n      }\n    };\n  });\n};\nvar delay = function (timeToDelay) {\n  return action(function (_a) {\n    var complete = _a.complete;\n    var timeout = setTimeout(complete, timeToDelay);\n    return {\n      stop: function () {\n        return clearTimeout(timeout);\n      }\n    };\n  });\n};\nvar merge = function () {\n  var actions = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n  return action(function (observer) {\n    var subs = actions.map(function (thisAction) {\n      return thisAction.start(observer);\n    });\n    return {\n      stop: function () {\n        return subs.forEach(function (sub) {\n          return sub.stop();\n        });\n      }\n    };\n  });\n};\nvar schedule = function (scheduler, schedulee) {\n  return action(function (_a) {\n    var update = _a.update,\n      complete = _a.complete;\n    var latest;\n    var schedulerSub = scheduler.start({\n      update: function () {\n        return latest !== undefined && update(latest);\n      },\n      complete: complete\n    });\n    var scheduleeSub = schedulee.start({\n      update: function (v) {\n        return latest = v;\n      },\n      complete: complete\n    });\n    return {\n      stop: function () {\n        schedulerSub.stop();\n        scheduleeSub.stop();\n      }\n    };\n  });\n};\nvar stagger = function (actions, interval) {\n  var intervalIsNumber = typeof interval === 'number';\n  var actionsWithDelay = actions.map(function (a, i) {\n    var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n    return chain(delay(timeToDelay), a);\n  });\n  return parallel$1.apply(void 0, actionsWithDelay);\n};\nvar appendUnit = function (unit) {\n  return function (v) {\n    return \"\" + v + unit;\n  };\n};\nvar steps = function (st, min, max) {\n  if (min === void 0) {\n    min = 0;\n  }\n  if (max === void 0) {\n    max = 1;\n  }\n  return function (v) {\n    var current = progress(min, max, v);\n    return mix(min, max, stepProgress(st, current));\n  };\n};\nvar transformMap = function (childTransformers) {\n  return function (v) {\n    var output = __assign({}, v);\n    for (var key in childTransformers) {\n      if (childTransformers.hasOwnProperty(key)) {\n        var childTransformer = childTransformers[key];\n        output[key] = childTransformer(v[key]);\n      }\n    }\n    return output;\n  };\n};\nvar transformers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  applyOffset: applyOffset,\n  clamp: clamp,\n  conditional: conditional,\n  interpolate: interpolate,\n  blendArray: mixArray,\n  blendColor: mixColor,\n  pipe: pipe,\n  smooth: smooth,\n  snap: snap,\n  generateStaticSpring: springForce,\n  nonlinearSpring: springForceExpo,\n  linearSpring: springForceLinear,\n  wrap: wrap,\n  appendUnit: appendUnit,\n  steps: steps,\n  transformMap: transformMap\n});\nvar css = function (element, props) {\n  warning(false, 'css() is deprecated, use styler instead');\n  return styler(element, props);\n};\nvar svg = function (element, props) {\n  warning(false, 'svg() is deprecated, use styler instead');\n  return styler(element, props);\n};\nexport { Action, ValueReaction, action, calc, chain, composite, crossfade, css, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, svg, timeline, transformers as transform, tween, value };","map":{"version":3,"names":["__assign","__spreadArrays","__extends","__rest","pipe","angle","degreesToRadians","distance","isPoint3D","isPoint","mix","pointFromVector","progress","radiansToDegrees","smoothFrame","velocityPerFrame","velocityPerSecond","mixComplex","mixColor","clamp","applyOffset","conditional","interpolate","mixArray","smooth","snap","springForce","springForceExpo","springForceLinear","wrap","sync","getFrameData","cancelSync","color","complex","px","percent","degrees","vh","vw","number","styleValueTypes","valueTypes","createReversedEasing","linear","easeOut","easeInOut","easing","styler","default","warning","Chainable","props","prototype","applyMiddleware","middleware","create","funcs","_i","arguments","length","pipedUpdate","apply","update","v","while","predicate","complete","filter","Observer","_a","observer","_this","onComplete","isActive","updateObserver","error","err","forEach","m","createObserver","observerCandidate","Action","_super","start","isComplete","subscription","stop","undefined","init","observerProps","api","registerParent","action","BaseMulticast","subscribers","subscriber","i","subscribe","push","unsubscribe","index","indexOf","splice","parent","Multicast","multicast","stepProgress","steps","segment","subsegment","percentProgressOfTarget","Math","min","subsegmentProgressOfTarget","segmentProgressOfTarget","floor","calc","Object","freeze","__proto__","dilate","getValueFromProgress","pointFromAngleAndDistance","getProgressFromValue","speedPerFrame","speedPerSecond","isValueList","Array","isArray","isSingleValue","typeOfV","ValueReaction","call","scheduleVelocityCheck","postRender","velocityCheck","timestamp","lastUpdated","prev","current","value","updateCurrent","getVelocityOfCurrent","getSingleVelocity","getListVelocity","key","hasOwnProperty","getMapVelocity","initialSubscription","get","getVelocity","delta","timeDelta","sub","parseFloat","map","c","velocity","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","actions","numActions","output","updateOutput","numCompletedActions","subs","a","name","hasCompleted","keys","reduce","methodName","composite","args","propKey","starter","parallel","parallel$1","createVectorTests","typeTests","testNames","isVectorProp","prop","getVectorKeys","vectorKeys","testVectorProps","some","unitTypes","findUnitType","find","type","test","isUnitProp","Boolean","createAction","reduceArrayValue","createArrayAction","firstVectorKey","actionList","childActionProps","getActionCreator","reduceObjectValue","createObjectAction","actionMap","createUnitAction","from","to","unitType","transform","parse","createMixerAction","mixer","createColorAction","createComplexAction","createVectorAction","vectorAction","isVector","testKey","testProp","decay","_b","_c","_d","power","_e","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","target","process","frameDelta","exp","isMoving","vectorDecay","func","spring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","t","position","prevPosition","dampingRatio","sqrt","angularFreq","envelope","expoDecay","sin","cos","isBelowVelocityThreshold","abs","isBelowDisplacementThreshold","vectorSpring","inertia","max","bounceStiffness","bounceDamping","activeAnimation","isOutOfBounds","boundaryNearest","startAnimation","animation","next","startSpring","boundary_1","heading_1","frame","initialTime","scrubber","ease","reverseEase","seek","vectorScrubber","clampProgress","tween","duration","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","reverseAnimation","isTweenComplete","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","resume","newProgress","reverse","clampProgress$1","defaultEasings","values","defaultTimings","numValues","interpolateScrubbers","input","scrubbers","rangeLength","finalInputIndex","finalScrubberIndex","scrub","progressInRange","keyframes","easings","times","tweenProps","physics","acceleration","friction","springStrength","pow","distanceToTarget","set","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","vectorPhysics","DEFAULT_DURATION","flattenTimings","instructions","flatInstructions","lastArg","isStaggered","staggerDelay","segments","slice","numSegments","offset","item","flattenArrayInstructions","instruction","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","Error","trackKeyframes","keyframeProps","listen","element","events","options","eventNames","split","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","x","y","eventToPoint","e","point","points","isTouchDevice","document","updatePointsLocation","touches","numTouches","thisTouch","passive","capture","multitouch","preventDefault","scale","rotate","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","onMove","updateOnMove","getIsTouchDevice","isMouseDevice","updatePointLocation","mouse","getFirstTouch","pointer","index$1","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","b","balance","fadable","va","vb","setBalance","delay","timeToDelay","timeout","setTimeout","clearTimeout","merge","thisAction","schedule","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","appendUnit","unit","st","transformMap","childTransformers","childTransformer","transformers","blendArray","blendColor","generateStaticSpring","nonlinearSpring","linearSpring","css","svg","everyFrame"],"sources":["/Users/ryanpizani/Documents/GitHub/portifolio/node_modules/popmotion/dist/popmotion.es.js"],"sourcesContent":["import { __assign, __spreadArrays, __extends, __rest } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixComplex, mixColor, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport * as styleValueTypes from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport * as easing from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign(__assign({}, this.props), { middleware: this.props.middleware ? __spreadArrays([middleware], this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var _this = this;\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign(__assign({}, subscription), api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    distance: distance,\n    isPoint3D: isPoint3D,\n    isPoint: isPoint,\n    dilate: mix,\n    getValueFromProgress: mix,\n    pointFromAngleAndDistance: pointFromVector,\n    getProgressFromValue: progress,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smoothFrame,\n    speedPerFrame: velocityPerFrame,\n    speedPerSecond: velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return sync.postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = __spreadArrays(v);\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = getFrameData(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        sync.postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) sync.update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        sync.update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign(__assign({}, props), { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = __rest(_a, [\"from\", \"to\"]);\n        return action(__assign(__assign({}, props), { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (color.test(prop)) {\n        return createColorAction;\n    } else if (complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = from + amplitude;\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        if (target !== idealTarget) amplitude = target - from;\n        var process = sync.update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = sync.update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = velocityPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var prev = from;\n        var current = from;\n        var activeAnimation;\n        var isOutOfBounds = function (v) {\n            return min !== undefined && v < min || max !== undefined && v > max;\n        };\n        var boundaryNearest = function (v) {\n            return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: update,\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            startAnimation(spring(__assign(__assign({}, props), { stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n        } else {\n            var to = power * velocity + from;\n            if (typeof modifyTarget !== 'undefined') {\n                to = modifyTarget(to);\n                modifyTarget = void 0;\n                velocity = (to - from) / power;\n            }\n            var animation = decay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: restDelta,\n                modifyTarget: modifyTarget\n            });\n            var next = void 0;\n            if (isOutOfBounds(to)) {\n                var boundary_1 = boundaryNearest(to);\n                var heading_1 = boundary_1 == min ? -1 : 1;\n                animation = animation.while(function (v) {\n                    prev = current;\n                    velocity = velocityPerSecond(v - prev, getFrameData().delta);\n                    current = v;\n                    return boundary_1 - v * heading_1 > 0;\n                });\n                next = function () {\n                    return startSpring({ from: current, to: boundary_1, velocity: velocity });\n                };\n            }\n            startAnimation(animation, next);\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: number.test,\n    velocity: number.test,\n    min: number.test,\n    max: number.test,\n    damping: number.test,\n    stiffness: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = sync.update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = createReversedEasing(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress) {\n                return update(progress);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return mix(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            var _a;\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress(progress(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = sync.update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    cancelSync.update(process);\n                    complete && sync.update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = mix(0, duration, newProgress);\n                sync.update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () {\n        return easing || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = progress(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing\n        });\n    });\n    return tween(__assign(__assign({}, tweenProps), { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = sync.update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n            }\n            current += velocityPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset = staggerDelay;\n            flatInstructions.push(\"\" + (offset - duration));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign(__assign({}, instruction), { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign(__assign({}, keyframeProps), { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign(__assign({}, observer), { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(mix(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = progress(min, max, v);\n        return mix(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    applyOffset: applyOffset,\n    clamp: clamp,\n    conditional: conditional,\n    interpolate: interpolate,\n    blendArray: mixArray,\n    blendColor: mixColor,\n    pipe: pipe,\n    smooth: smooth,\n    snap: snap,\n    generateStaticSpring: springForce,\n    nonlinearSpring: springForceExpo,\n    linearSpring: springForceLinear,\n    wrap: wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { Action, ValueReaction, action, calc, chain, composite, crossfade, css, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, svg, timeline, transformers as transform, tween, value };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,cAAc,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnE,SAASC,IAAI,EAAEC,KAAK,EAAEC,gBAAgB,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,EAAEC,GAAG,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,gBAAgB,EAAEC,WAAW,EAAEC,gBAAgB,EAAEC,iBAAiB,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,WAAW,EAAEC,WAAW,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,IAAI,EAAEC,WAAW,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,IAAI,QAAQ,oBAAoB;AACvV,OAAOC,IAAI,IAAIC,YAAY,EAAEC,UAAU,QAAQ,WAAW;AAC1D,SAASC,KAAK,EAAEC,OAAO,EAAEC,EAAE,EAAEC,OAAO,EAAEC,OAAO,EAAEC,EAAE,EAAEC,EAAE,EAAEC,MAAM,QAAQ,mBAAmB;AACxF,OAAO,KAAKC,eAAe,MAAM,mBAAmB;AACpD,SAASA,eAAe,IAAIC,UAAU;AACtC,SAASC,oBAAoB,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,QAAQ,mBAAmB;AACpF,OAAO,KAAKC,MAAM,MAAM,mBAAmB;AAC3C,SAASA,MAAM;AACf,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,OAAO,IAAID,MAAM,QAAQ,WAAW;AAC7C,SAASE,OAAO,QAAQ,YAAY;AAEpC,IAAIC,SAAS,GAAG,aAAa,YAAY;EACrC,SAASA,SAASA,CAACC,KAAK,EAAE;IACtB,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;MAClBA,KAAK,GAAG,CAAC,CAAC;IACd;IACA,IAAI,CAACA,KAAK,GAAGA,KAAK;EACtB;EACAD,SAAS,CAACE,SAAS,CAACC,eAAe,GAAG,UAAUC,UAAU,EAAE;IACxD,OAAO,IAAI,CAACC,MAAM,CAACxD,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAACoD,KAAK,CAAC,EAAE;MAAEG,UAAU,EAAE,IAAI,CAACH,KAAK,CAACG,UAAU,GAAGtD,cAAc,CAAC,CAACsD,UAAU,CAAC,EAAE,IAAI,CAACH,KAAK,CAACG,UAAU,CAAC,GAAG,CAACA,UAAU;IAAE,CAAC,CAAC,CAAC;EACtK,CAAC;EACDJ,SAAS,CAACE,SAAS,CAACjD,IAAI,GAAG,YAAY;IACnC,IAAIqD,KAAK,GAAG,EAAE;IACd,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC1CD,KAAK,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC7B;IACA,IAAIG,WAAW,GAAGJ,KAAK,CAACG,MAAM,KAAK,CAAC,GAAGH,KAAK,CAAC,CAAC,CAAC,GAAGrD,IAAI,CAAC0D,KAAK,CAAC,KAAK,CAAC,EAAEL,KAAK,CAAC;IAC3E,OAAO,IAAI,CAACH,eAAe,CAAC,UAAUS,MAAM,EAAE;MAC1C,OAAO,UAAUC,CAAC,EAAE;QAChB,OAAOD,MAAM,CAACF,WAAW,CAACG,CAAC,CAAC,CAAC;MACjC,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDb,SAAS,CAACE,SAAS,CAACY,KAAK,GAAG,UAAUC,SAAS,EAAE;IAC7C,OAAO,IAAI,CAACZ,eAAe,CAAC,UAAUS,MAAM,EAAEI,QAAQ,EAAE;MACpD,OAAO,UAAUH,CAAC,EAAE;QAChB,OAAOE,SAAS,CAACF,CAAC,CAAC,GAAGD,MAAM,CAACC,CAAC,CAAC,GAAGG,QAAQ,CAAC,CAAC;MAChD,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDhB,SAAS,CAACE,SAAS,CAACe,MAAM,GAAG,UAAUF,SAAS,EAAE;IAC9C,OAAO,IAAI,CAACZ,eAAe,CAAC,UAAUS,MAAM,EAAE;MAC1C,OAAO,UAAUC,CAAC,EAAE;QAChB,OAAOE,SAAS,CAACF,CAAC,CAAC,IAAID,MAAM,CAACC,CAAC,CAAC;MACpC,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACD,OAAOb,SAAS;AACpB,CAAC,CAAC,CAAC;AAEH,IAAIkB,QAAQ,GAAG,aAAa,YAAY;EACpC,SAASA,QAAQA,CAACC,EAAE,EAAEC,QAAQ,EAAE;IAC5B,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAIjB,UAAU,GAAGe,EAAE,CAACf,UAAU;MAC1BkB,UAAU,GAAGH,EAAE,CAACG,UAAU;IAC9B,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACX,MAAM,GAAG,UAAUC,CAAC,EAAE;MACvB,IAAIQ,KAAK,CAACD,QAAQ,CAACR,MAAM,EAAES,KAAK,CAACG,cAAc,CAACX,CAAC,CAAC;IACtD,CAAC;IACD,IAAI,CAACG,QAAQ,GAAG,YAAY;MACxB,IAAIK,KAAK,CAACD,QAAQ,CAACJ,QAAQ,IAAIK,KAAK,CAACE,QAAQ,EAAEF,KAAK,CAACD,QAAQ,CAACJ,QAAQ,CAAC,CAAC;MACxE,IAAIK,KAAK,CAACC,UAAU,EAAED,KAAK,CAACC,UAAU,CAAC,CAAC;MACxCD,KAAK,CAACE,QAAQ,GAAG,KAAK;IAC1B,CAAC;IACD,IAAI,CAACE,KAAK,GAAG,UAAUC,GAAG,EAAE;MACxB,IAAIL,KAAK,CAACD,QAAQ,CAACK,KAAK,IAAIJ,KAAK,CAACE,QAAQ,EAAEF,KAAK,CAACD,QAAQ,CAACK,KAAK,CAACC,GAAG,CAAC;MACrEL,KAAK,CAACE,QAAQ,GAAG,KAAK;IAC1B,CAAC;IACD,IAAI,CAACH,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACI,cAAc,GAAG,UAAUX,CAAC,EAAE;MAC/B,OAAOO,QAAQ,CAACR,MAAM,CAACC,CAAC,CAAC;IAC7B,CAAC;IACD,IAAI,CAACS,UAAU,GAAGA,UAAU;IAC5B,IAAIF,QAAQ,CAACR,MAAM,IAAIR,UAAU,IAAIA,UAAU,CAACK,MAAM,EAAE;MACpDL,UAAU,CAACuB,OAAO,CAAC,UAAUC,CAAC,EAAE;QAC5B,OAAOP,KAAK,CAACG,cAAc,GAAGI,CAAC,CAACP,KAAK,CAACG,cAAc,EAAEH,KAAK,CAACL,QAAQ,CAAC;MACzE,CAAC,CAAC;IACN;EACJ;EACA,OAAOE,QAAQ;AACnB,CAAC,CAAC,CAAC;AACH,IAAIW,cAAc,GAAG,SAAAA,CAAUC,iBAAiB,EAAEX,EAAE,EAAEG,UAAU,EAAE;EAC9D,IAAIlB,UAAU,GAAGe,EAAE,CAACf,UAAU;EAC9B,IAAI,OAAO0B,iBAAiB,KAAK,UAAU,EAAE;IACzC,OAAO,IAAIZ,QAAQ,CAAC;MAAEd,UAAU,EAAEA,UAAU;MAAEkB,UAAU,EAAEA;IAAW,CAAC,EAAE;MAAEV,MAAM,EAAEkB;IAAkB,CAAC,CAAC;EAC1G,CAAC,MAAM;IACH,OAAO,IAAIZ,QAAQ,CAAC;MAAEd,UAAU,EAAEA,UAAU;MAAEkB,UAAU,EAAEA;IAAW,CAAC,EAAEQ,iBAAiB,CAAC;EAC9F;AACJ,CAAC;AAED,IAAIC,MAAM,GAAG,aAAa,UAAUC,MAAM,EAAE;EACxCjF,SAAS,CAACgF,MAAM,EAAEC,MAAM,CAAC;EACzB,SAASD,MAAMA,CAAA,EAAG;IACd,OAAOC,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACrB,KAAK,CAAC,IAAI,EAAEH,SAAS,CAAC,IAAI,IAAI;EACnE;EACAuB,MAAM,CAAC7B,SAAS,CAACG,MAAM,GAAG,UAAUJ,KAAK,EAAE;IACvC,OAAO,IAAI8B,MAAM,CAAC9B,KAAK,CAAC;EAC5B,CAAC;EACD8B,MAAM,CAAC7B,SAAS,CAAC+B,KAAK,GAAG,UAAUH,iBAAiB,EAAE;IAClD,IAAIA,iBAAiB,KAAK,KAAK,CAAC,EAAE;MAC9BA,iBAAiB,GAAG,CAAC,CAAC;IAC1B;IACA,IAAII,UAAU,GAAG,KAAK;IACtB,IAAIC,YAAY,GAAG;MACfC,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOC,SAAS;MACpB;IACJ,CAAC;IACD,IAAIlB,EAAE,GAAG,IAAI,CAAClB,KAAK;MACfqC,IAAI,GAAGnB,EAAE,CAACmB,IAAI;MACdC,aAAa,GAAGvF,MAAM,CAACmE,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;IACxC,IAAIC,QAAQ,GAAGS,cAAc,CAACC,iBAAiB,EAAES,aAAa,EAAE,YAAY;MACxEL,UAAU,GAAG,IAAI;MACjBC,YAAY,CAACC,IAAI,CAAC,CAAC;IACvB,CAAC,CAAC;IACF,IAAII,GAAG,GAAGF,IAAI,CAAClB,QAAQ,CAAC;IACxBe,YAAY,GAAGK,GAAG,GAAG3F,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEsF,YAAY,CAAC,EAAEK,GAAG,CAAC,GAAGL,YAAY;IAC7E,IAAIL,iBAAiB,CAACW,cAAc,EAAE;MAClCX,iBAAiB,CAACW,cAAc,CAACN,YAAY,CAAC;IAClD;IACA,IAAID,UAAU,EAAEC,YAAY,CAACC,IAAI,CAAC,CAAC;IACnC,OAAOD,YAAY;EACvB,CAAC;EACD,OAAOJ,MAAM;AACjB,CAAC,CAAC/B,SAAS,CAAC;AACZ,IAAI0C,MAAM,GAAG,SAAAA,CAAUJ,IAAI,EAAE;EACzB,OAAO,IAAIP,MAAM,CAAC;IAAEO,IAAI,EAAEA;EAAK,CAAC,CAAC;AACrC,CAAC;AAED,IAAIK,aAAa,GAAG,aAAa,UAAUX,MAAM,EAAE;EAC/CjF,SAAS,CAAC4F,aAAa,EAAEX,MAAM,CAAC;EAChC,SAASW,aAAaA,CAAA,EAAG;IACrB,IAAItB,KAAK,GAAGW,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACrB,KAAK,CAAC,IAAI,EAAEH,SAAS,CAAC,IAAI,IAAI;IACpEa,KAAK,CAACuB,WAAW,GAAG,EAAE;IACtB,OAAOvB,KAAK;EAChB;EACAsB,aAAa,CAACzC,SAAS,CAACc,QAAQ,GAAG,YAAY;IAC3C,IAAI,CAAC4B,WAAW,CAACjB,OAAO,CAAC,UAAUkB,UAAU,EAAE;MAC3C,OAAOA,UAAU,CAAC7B,QAAQ,CAAC,CAAC;IAChC,CAAC,CAAC;EACN,CAAC;EACD2B,aAAa,CAACzC,SAAS,CAACuB,KAAK,GAAG,UAAUC,GAAG,EAAE;IAC3C,IAAI,CAACkB,WAAW,CAACjB,OAAO,CAAC,UAAUkB,UAAU,EAAE;MAC3C,OAAOA,UAAU,CAACpB,KAAK,CAACC,GAAG,CAAC;IAChC,CAAC,CAAC;EACN,CAAC;EACDiB,aAAa,CAACzC,SAAS,CAACU,MAAM,GAAG,UAAUC,CAAC,EAAE;IAC1C,KAAK,IAAIiC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACF,WAAW,CAACnC,MAAM,EAAEqC,CAAC,EAAE,EAAE;MAC9C,IAAI,CAACF,WAAW,CAACE,CAAC,CAAC,CAAClC,MAAM,CAACC,CAAC,CAAC;IACjC;EACJ,CAAC;EACD8B,aAAa,CAACzC,SAAS,CAAC6C,SAAS,GAAG,UAAUjB,iBAAiB,EAAE;IAC7D,IAAIT,KAAK,GAAG,IAAI;IAChB,IAAID,QAAQ,GAAGS,cAAc,CAACC,iBAAiB,EAAE,IAAI,CAAC7B,KAAK,CAAC;IAC5D,IAAI,CAAC2C,WAAW,CAACI,IAAI,CAAC5B,QAAQ,CAAC;IAC/B,IAAIe,YAAY,GAAG;MACfc,WAAW,EAAE,SAAAA,CAAA,EAAY;QACrB,IAAIC,KAAK,GAAG7B,KAAK,CAACuB,WAAW,CAACO,OAAO,CAAC/B,QAAQ,CAAC;QAC/C,IAAI8B,KAAK,KAAK,CAAC,CAAC,EAAE7B,KAAK,CAACuB,WAAW,CAACQ,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MACxD;IACJ,CAAC;IACD,OAAOf,YAAY;EACvB,CAAC;EACDQ,aAAa,CAACzC,SAAS,CAACkC,IAAI,GAAG,YAAY;IACvC,IAAI,IAAI,CAACiB,MAAM,EAAE,IAAI,CAACA,MAAM,CAACjB,IAAI,CAAC,CAAC;EACvC,CAAC;EACDO,aAAa,CAACzC,SAAS,CAACuC,cAAc,GAAG,UAAUN,YAAY,EAAE;IAC7D,IAAI,CAACC,IAAI,CAAC,CAAC;IACX,IAAI,CAACiB,MAAM,GAAGlB,YAAY;EAC9B,CAAC;EACD,OAAOQ,aAAa;AACxB,CAAC,CAAC3C,SAAS,CAAC;AAEZ,IAAIsD,SAAS,GAAG,aAAa,UAAUtB,MAAM,EAAE;EAC3CjF,SAAS,CAACuG,SAAS,EAAEtB,MAAM,CAAC;EAC5B,SAASsB,SAASA,CAAA,EAAG;IACjB,OAAOtB,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACrB,KAAK,CAAC,IAAI,EAAEH,SAAS,CAAC,IAAI,IAAI;EACnE;EACA8C,SAAS,CAACpD,SAAS,CAACG,MAAM,GAAG,UAAUJ,KAAK,EAAE;IAC1C,OAAO,IAAIqD,SAAS,CAACrD,KAAK,CAAC;EAC/B,CAAC;EACD,OAAOqD,SAAS;AACpB,CAAC,CAACX,aAAa,CAAC;AAChB,IAAIY,SAAS,GAAG,SAAAA,CAAA,EAAY;EACxB,OAAO,IAAID,SAAS,CAAC,CAAC;AAC1B,CAAC;AAED,IAAIE,YAAY,GAAG,SAAAA,CAAUC,KAAK,EAAEhG,QAAQ,EAAE;EAC1C,IAAIiG,OAAO,GAAG,CAAC,IAAID,KAAK,GAAG,CAAC,CAAC;EAC7B,IAAIE,UAAU,GAAG,CAAC,IAAI,CAAC,IAAIF,KAAK,GAAG,CAAC,CAAC,CAAC;EACtC,IAAIG,uBAAuB,GAAGC,IAAI,CAACC,GAAG,CAACrG,QAAQ,EAAE,CAAC,CAAC;EACnD,IAAIsG,0BAA0B,GAAGH,uBAAuB,GAAGD,UAAU;EACrE,IAAIK,uBAAuB,GAAGH,IAAI,CAACI,KAAK,CAAC,CAACF,0BAA0B,GAAG,CAAC,IAAI,CAAC,CAAC;EAC9E,OAAOC,uBAAuB,GAAGN,OAAO;AAC5C,CAAC;AAED,IAAIQ,IAAI,GAAG,aAAaC,MAAM,CAACC,MAAM,CAAC;EAClCC,SAAS,EAAE,IAAI;EACfnH,KAAK,EAAEA,KAAK;EACZC,gBAAgB,EAAEA,gBAAgB;EAClCC,QAAQ,EAAEA,QAAQ;EAClBC,SAAS,EAAEA,SAAS;EACpBC,OAAO,EAAEA,OAAO;EAChBgH,MAAM,EAAE/G,GAAG;EACXgH,oBAAoB,EAAEhH,GAAG;EACzBiH,yBAAyB,EAAEhH,eAAe;EAC1CiH,oBAAoB,EAAEhH,QAAQ;EAC9BC,gBAAgB,EAAEA,gBAAgB;EAClCW,MAAM,EAAEV,WAAW;EACnB+G,aAAa,EAAE9G,gBAAgB;EAC/B+G,cAAc,EAAE9G,iBAAiB;EACjC2F,YAAY,EAAEA;AAClB,CAAC,CAAC;AAEF,IAAIoB,WAAW,GAAG,SAAAA,CAAU/D,CAAC,EAAE;EAC3B,OAAOgE,KAAK,CAACC,OAAO,CAACjE,CAAC,CAAC;AAC3B,CAAC;AACD,IAAIkE,aAAa,GAAG,SAAAA,CAAUlE,CAAC,EAAE;EAC7B,IAAImE,OAAO,GAAG,OAAOnE,CAAC;EACtB,OAAOmE,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,QAAQ;AACvD,CAAC;AACD,IAAIC,aAAa,GAAG,aAAa,UAAUjD,MAAM,EAAE;EAC/CjF,SAAS,CAACkI,aAAa,EAAEjD,MAAM,CAAC;EAChC,SAASiD,aAAaA,CAAChF,KAAK,EAAE;IAC1B,IAAIoB,KAAK,GAAGW,MAAM,CAACkD,IAAI,CAAC,IAAI,EAAEjF,KAAK,CAAC,IAAI,IAAI;IAC5CoB,KAAK,CAAC8D,qBAAqB,GAAG,YAAY;MACtC,OAAOxG,IAAI,CAACyG,UAAU,CAAC/D,KAAK,CAACgE,aAAa,CAAC;IAC/C,CAAC;IACDhE,KAAK,CAACgE,aAAa,GAAG,UAAUlE,EAAE,EAAE;MAChC,IAAImE,SAAS,GAAGnE,EAAE,CAACmE,SAAS;MAC5B,IAAIA,SAAS,KAAKjE,KAAK,CAACkE,WAAW,EAAE;QACjClE,KAAK,CAACmE,IAAI,GAAGnE,KAAK,CAACoE,OAAO;MAC9B;IACJ,CAAC;IACDpE,KAAK,CAACmE,IAAI,GAAGnE,KAAK,CAACoE,OAAO,GAAGxF,KAAK,CAACyF,KAAK,IAAI,CAAC;IAC7C,IAAIX,aAAa,CAAC1D,KAAK,CAACoE,OAAO,CAAC,EAAE;MAC9BpE,KAAK,CAACsE,aAAa,GAAG,UAAU9E,CAAC,EAAE;QAC/B,OAAOQ,KAAK,CAACoE,OAAO,GAAG5E,CAAC;MAC5B,CAAC;MACDQ,KAAK,CAACuE,oBAAoB,GAAG,YAAY;QACrC,OAAOvE,KAAK,CAACwE,iBAAiB,CAACxE,KAAK,CAACoE,OAAO,EAAEpE,KAAK,CAACmE,IAAI,CAAC;MAC7D,CAAC;IACL,CAAC,MAAM,IAAIZ,WAAW,CAACvD,KAAK,CAACoE,OAAO,CAAC,EAAE;MACnCpE,KAAK,CAACsE,aAAa,GAAG,UAAU9E,CAAC,EAAE;QAC/B,OAAOQ,KAAK,CAACoE,OAAO,GAAG3I,cAAc,CAAC+D,CAAC,CAAC;MAC5C,CAAC;MACDQ,KAAK,CAACuE,oBAAoB,GAAG,YAAY;QACrC,OAAOvE,KAAK,CAACyE,eAAe,CAAC,CAAC;MAClC,CAAC;IACL,CAAC,MAAM;MACHzE,KAAK,CAACsE,aAAa,GAAG,UAAU9E,CAAC,EAAE;QAC/BQ,KAAK,CAACoE,OAAO,GAAG,CAAC,CAAC;QAClB,KAAK,IAAIM,GAAG,IAAIlF,CAAC,EAAE;UACf,IAAIA,CAAC,CAACmF,cAAc,CAACD,GAAG,CAAC,EAAE;YACvB1E,KAAK,CAACoE,OAAO,CAACM,GAAG,CAAC,GAAGlF,CAAC,CAACkF,GAAG,CAAC;UAC/B;QACJ;MACJ,CAAC;MACD1E,KAAK,CAACuE,oBAAoB,GAAG,YAAY;QACrC,OAAOvE,KAAK,CAAC4E,cAAc,CAAC,CAAC;MACjC,CAAC;IACL;IACA,IAAIhG,KAAK,CAACiG,mBAAmB,EAAE7E,KAAK,CAAC0B,SAAS,CAAC9C,KAAK,CAACiG,mBAAmB,CAAC;IACzE,OAAO7E,KAAK;EAChB;EACA4D,aAAa,CAAC/E,SAAS,CAACG,MAAM,GAAG,UAAUJ,KAAK,EAAE;IAC9C,OAAO,IAAIgF,aAAa,CAAChF,KAAK,CAAC;EACnC,CAAC;EACDgF,aAAa,CAAC/E,SAAS,CAACiG,GAAG,GAAG,YAAY;IACtC,OAAO,IAAI,CAACV,OAAO;EACvB,CAAC;EACDR,aAAa,CAAC/E,SAAS,CAACkG,WAAW,GAAG,YAAY;IAC9C,OAAO,IAAI,CAACR,oBAAoB,CAAC,CAAC;EACtC,CAAC;EACDX,aAAa,CAAC/E,SAAS,CAACU,MAAM,GAAG,UAAUC,CAAC,EAAE;IAC1CmB,MAAM,CAAC9B,SAAS,CAACU,MAAM,CAACsE,IAAI,CAAC,IAAI,EAAErE,CAAC,CAAC;IACrC,IAAI,CAAC2E,IAAI,GAAG,IAAI,CAACC,OAAO;IACxB,IAAI,CAACE,aAAa,CAAC9E,CAAC,CAAC;IACrB,IAAIM,EAAE,GAAGvC,YAAY,CAAC,CAAC;MACnByH,KAAK,GAAGlF,EAAE,CAACkF,KAAK;MAChBf,SAAS,GAAGnE,EAAE,CAACmE,SAAS;IAC5B,IAAI,CAACgB,SAAS,GAAGD,KAAK;IACtB,IAAI,CAACd,WAAW,GAAGD,SAAS;IAC5B3G,IAAI,CAACyG,UAAU,CAAC,IAAI,CAACD,qBAAqB,CAAC;EAC/C,CAAC;EACDF,aAAa,CAAC/E,SAAS,CAAC6C,SAAS,GAAG,UAAUjB,iBAAiB,EAAE;IAC7D,IAAIyE,GAAG,GAAGvE,MAAM,CAAC9B,SAAS,CAAC6C,SAAS,CAACmC,IAAI,CAAC,IAAI,EAAEpD,iBAAiB,CAAC;IAClE,IAAI,CAACc,WAAW,CAAC,IAAI,CAACA,WAAW,CAACnC,MAAM,GAAG,CAAC,CAAC,CAACG,MAAM,CAAC,IAAI,CAAC6E,OAAO,CAAC;IAClE,OAAOc,GAAG;EACd,CAAC;EACDtB,aAAa,CAAC/E,SAAS,CAAC2F,iBAAiB,GAAG,UAAUJ,OAAO,EAAED,IAAI,EAAE;IACjE,OAAO,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOD,IAAI,KAAK,QAAQ,GAAG3H,iBAAiB,CAAC4H,OAAO,GAAGD,IAAI,EAAE,IAAI,CAACc,SAAS,CAAC,GAAGzI,iBAAiB,CAAC2I,UAAU,CAACf,OAAO,CAAC,GAAGe,UAAU,CAAChB,IAAI,CAAC,EAAE,IAAI,CAACc,SAAS,CAAC,IAAI,CAAC;EACvM,CAAC;EACDrB,aAAa,CAAC/E,SAAS,CAAC4F,eAAe,GAAG,YAAY;IAClD,IAAIzE,KAAK,GAAG,IAAI;IAChB,OAAO,IAAI,CAACoE,OAAO,CAACgB,GAAG,CAAC,UAAUC,CAAC,EAAE5D,CAAC,EAAE;MACpC,OAAOzB,KAAK,CAACwE,iBAAiB,CAACa,CAAC,EAAErF,KAAK,CAACmE,IAAI,CAAC1C,CAAC,CAAC,CAAC;IACpD,CAAC,CAAC;EACN,CAAC;EACDmC,aAAa,CAAC/E,SAAS,CAAC+F,cAAc,GAAG,YAAY;IACjD,IAAIU,QAAQ,GAAG,CAAC,CAAC;IACjB,KAAK,IAAIZ,GAAG,IAAI,IAAI,CAACN,OAAO,EAAE;MAC1B,IAAI,IAAI,CAACA,OAAO,CAACO,cAAc,CAACD,GAAG,CAAC,EAAE;QAClCY,QAAQ,CAACZ,GAAG,CAAC,GAAG,IAAI,CAACF,iBAAiB,CAAC,IAAI,CAACJ,OAAO,CAACM,GAAG,CAAC,EAAE,IAAI,CAACP,IAAI,CAACO,GAAG,CAAC,CAAC;MAC7E;IACJ;IACA,OAAOY,QAAQ;EACnB,CAAC;EACD,OAAO1B,aAAa;AACxB,CAAC,CAACtC,aAAa,CAAC;AAChB,IAAI+C,KAAK,GAAG,SAAAA,CAAUA,KAAK,EAAEQ,mBAAmB,EAAE;EAC9C,OAAO,IAAIjB,aAAa,CAAC;IAAES,KAAK,EAAEA,KAAK;IAAEQ,mBAAmB,EAAEA;EAAoB,CAAC,CAAC;AACxF,CAAC;AAED,IAAIU,KAAK,GAAG,SAAAA,CAAUzF,EAAE,EAAE;EACtB,IAAI0F,QAAQ,GAAG1F,EAAE,CAAC0F,QAAQ;IACtBC,QAAQ,GAAG3F,EAAE,CAAC2F,QAAQ;IACtBC,SAAS,GAAG5F,EAAE,CAAC4F,SAAS;IACxBC,MAAM,GAAG7F,EAAE,CAAC6F,MAAM;IAClBC,OAAO,GAAG9F,EAAE,CAAC8F,OAAO;IACpBC,YAAY,GAAG/F,EAAE,CAAC+F,YAAY;EAClC,OAAO,UAAUC,OAAO,EAAE;IACtB,OAAOzE,MAAM,CAAC,UAAUvB,EAAE,EAAE;MACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;QAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;QACtBS,KAAK,GAAGN,EAAE,CAACM,KAAK;MACpB,IAAI2F,UAAU,GAAGP,QAAQ,CAACM,OAAO,CAAC;MAClC,IAAIE,MAAM,GAAGN,SAAS,CAAC,CAAC;MACxB,IAAIO,YAAY,GAAG,SAAAA,CAAA,EAAY;QAC3B,OAAO1G,MAAM,CAACyG,MAAM,CAAC;MACzB,CAAC;MACD,IAAIE,mBAAmB,GAAG,CAAC;MAC3B,IAAIC,IAAI,GAAGN,YAAY,CAACC,OAAO,EAAE,UAAUM,CAAC,EAAEC,IAAI,EAAE;QAChD,IAAIC,YAAY,GAAG,KAAK;QACxB,OAAOF,CAAC,CAACxF,KAAK,CAAC;UACXjB,QAAQ,EAAE,SAAAA,CAAA,EAAY;YAClB,IAAI,CAAC2G,YAAY,EAAE;cACfA,YAAY,GAAG,IAAI;cACnBJ,mBAAmB,EAAE;cACrB,IAAIA,mBAAmB,KAAKH,UAAU,EAAEzI,IAAI,CAACiC,MAAM,CAACI,QAAQ,CAAC;YACjE;UACJ,CAAC;UACDS,KAAK,EAAEA,KAAK;UACZb,MAAM,EAAE,SAAAA,CAAUC,CAAC,EAAE;YACjBoG,OAAO,CAACI,MAAM,EAAEK,IAAI,EAAE7G,CAAC,CAAC;YACxBlC,IAAI,CAACiC,MAAM,CAAC0G,YAAY,EAAE,KAAK,EAAE,IAAI,CAAC;UAC1C;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;MACF,OAAOnD,MAAM,CAACyD,IAAI,CAACd,QAAQ,CAACU,IAAI,CAAC,CAAC,CAACK,MAAM,CAAC,UAAUrF,GAAG,EAAEsF,UAAU,EAAE;QACjEtF,GAAG,CAACsF,UAAU,CAAC,GAAGd,MAAM,CAACQ,IAAI,EAAEM,UAAU,CAAC;QAC1C,OAAOtF,GAAG;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AAED,IAAIuF,SAAS,GAAG,aAAanB,KAAK,CAAC;EAC/BG,SAAS,EAAE,SAAAA,CAAA,EAAY;IACnB,OAAO,CAAC,CAAC;EACb,CAAC;EACDF,QAAQ,EAAE,SAAAA,CAAUW,IAAI,EAAE;IACtB,OAAOrD,MAAM,CAACyD,IAAI,CAACJ,IAAI,CAAC,CAAC/G,MAAM;EACnC,CAAC;EACDqG,QAAQ,EAAE,SAAAA,CAAUU,IAAI,EAAE;IACtB,OAAOA,IAAI,CAACrD,MAAM,CAACyD,IAAI,CAACJ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EACrC,CAAC;EACDR,MAAM,EAAE,SAAAA,CAAUQ,IAAI,EAAEM,UAAU,EAAE;IAChC,OAAO,YAAY;MACf,IAAIE,IAAI,GAAG,EAAE;MACb,KAAK,IAAIzH,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;QAC1CyH,IAAI,CAACzH,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;MAC5B;MACA,OAAO4D,MAAM,CAACyD,IAAI,CAACJ,IAAI,CAAC,CAACK,MAAM,CAAC,UAAUR,MAAM,EAAEY,OAAO,EAAE;QACvD,IAAI9G,EAAE;QACN,IAAIqG,IAAI,CAACS,OAAO,CAAC,CAACH,UAAU,CAAC,EAAE;UAC3BE,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,KAAK5F,SAAS,GAAGgF,MAAM,CAACY,OAAO,CAAC,GAAGT,IAAI,CAACS,OAAO,CAAC,CAACH,UAAU,CAAC,CAACE,IAAI,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAGZ,MAAM,CAACY,OAAO,CAAC,GAAG,CAAC9G,EAAE,GAAGqG,IAAI,CAACS,OAAO,CAAC,EAAEH,UAAU,CAAC,CAACnH,KAAK,CAACQ,EAAE,EAAE6G,IAAI,CAAC;QAClL;QACA,OAAOX,MAAM;MACjB,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;EACL,CAAC;EACDJ,OAAO,EAAE,SAAAA,CAAUI,MAAM,EAAEK,IAAI,EAAE7G,CAAC,EAAE;IAChC,OAAOwG,MAAM,CAACK,IAAI,CAAC,GAAG7G,CAAC;EAC3B,CAAC;EACDqG,YAAY,EAAE,SAAAA,CAAUC,OAAO,EAAEe,OAAO,EAAE;IACtC,OAAO/D,MAAM,CAACyD,IAAI,CAACT,OAAO,CAAC,CAACU,MAAM,CAAC,UAAUL,IAAI,EAAEzB,GAAG,EAAE;MACpDyB,IAAI,CAACzB,GAAG,CAAC,GAAGmC,OAAO,CAACf,OAAO,CAACpB,GAAG,CAAC,EAAEA,GAAG,CAAC;MACtC,OAAOyB,IAAI;IACf,CAAC,EAAE,CAAC,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,IAAIW,QAAQ,GAAG,aAAavB,KAAK,CAAC;EAC9BG,SAAS,EAAE,SAAAA,CAAA,EAAY;IACnB,OAAO,EAAE;EACb,CAAC;EACDF,QAAQ,EAAE,SAAAA,CAAUW,IAAI,EAAE;IACtB,OAAOA,IAAI,CAAC/G,MAAM;EACtB,CAAC;EACDqG,QAAQ,EAAE,SAAAA,CAAUU,IAAI,EAAE;IACtB,OAAOA,IAAI,CAAC,CAAC,CAAC;EAClB,CAAC;EACDR,MAAM,EAAE,SAAAA,CAAUQ,IAAI,EAAEM,UAAU,EAAE;IAChC,OAAO,YAAY;MACf,IAAIE,IAAI,GAAG,EAAE;MACb,KAAK,IAAIzH,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;QAC1CyH,IAAI,CAACzH,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;MAC5B;MACA,OAAOiH,IAAI,CAACf,GAAG,CAAC,UAAUF,GAAG,EAAEzD,CAAC,EAAE;QAC9B,IAAIyD,GAAG,CAACuB,UAAU,CAAC,EAAE;UACjB,OAAOjD,KAAK,CAACC,OAAO,CAACkD,IAAI,CAAC,CAAC,CAAC,CAAC,GAAGzB,GAAG,CAACuB,UAAU,CAAC,CAACE,IAAI,CAAC,CAAC,CAAC,CAAClF,CAAC,CAAC,CAAC,GAAGyD,GAAG,CAACuB,UAAU,CAAC,CAACnH,KAAK,CAAC4F,GAAG,EAAEyB,IAAI,CAAC;QAClG;MACJ,CAAC,CAAC;IACN,CAAC;EACL,CAAC;EACDf,OAAO,EAAE,SAAAA,CAAUI,MAAM,EAAEK,IAAI,EAAE7G,CAAC,EAAE;IAChC,OAAOwG,MAAM,CAACK,IAAI,CAAC,GAAG7G,CAAC;EAC3B,CAAC;EACDqG,YAAY,EAAE,SAAAA,CAAUC,OAAO,EAAEe,OAAO,EAAE;IACtC,OAAOf,OAAO,CAACV,GAAG,CAAC,UAAU/D,MAAM,EAAEI,CAAC,EAAE;MACpC,OAAOoF,OAAO,CAACxF,MAAM,EAAEI,CAAC,CAAC;IAC7B,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF,IAAIsF,UAAU,GAAG,SAAAA,CAAA,EAAY;EACzB,IAAIjB,OAAO,GAAG,EAAE;EAChB,KAAK,IAAI5G,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;IAC1C4G,OAAO,CAAC5G,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;EAC/B;EACA,OAAO4H,QAAQ,CAAChB,OAAO,CAAC;AAC5B,CAAC;AAED,IAAIkB,iBAAiB,GAAG,SAAAA,CAAUC,SAAS,EAAE;EACzC,IAAIC,SAAS,GAAGpE,MAAM,CAACyD,IAAI,CAACU,SAAS,CAAC;EACtC,IAAIE,YAAY,GAAG,SAAAA,CAAUC,IAAI,EAAE1C,GAAG,EAAE;IACpC,OAAO0C,IAAI,KAAKpG,SAAS,IAAI,CAACiG,SAAS,CAACvC,GAAG,CAAC,CAAC0C,IAAI,CAAC;EACtD,CAAC;EACD,IAAIC,aAAa,GAAG,SAAAA,CAAUzI,KAAK,EAAE;IACjC,OAAOsI,SAAS,CAACV,MAAM,CAAC,UAAUc,UAAU,EAAE5C,GAAG,EAAE;MAC/C,IAAIyC,YAAY,CAACvI,KAAK,CAAC8F,GAAG,CAAC,EAAEA,GAAG,CAAC,EAAE4C,UAAU,CAAC3F,IAAI,CAAC+C,GAAG,CAAC;MACvD,OAAO4C,UAAU;IACrB,CAAC,EAAE,EAAE,CAAC;EACV,CAAC;EACD,IAAIC,eAAe,GAAG,SAAAA,CAAU3I,KAAK,EAAE;IACnC,OAAOA,KAAK,IAAIsI,SAAS,CAACM,IAAI,CAAC,UAAU9C,GAAG,EAAE;MAC1C,OAAOyC,YAAY,CAACvI,KAAK,CAAC8F,GAAG,CAAC,EAAEA,GAAG,CAAC;IACxC,CAAC,CAAC;EACN,CAAC;EACD,OAAO;IAAE2C,aAAa,EAAEA,aAAa;IAAEE,eAAe,EAAEA;EAAgB,CAAC;AAC7E,CAAC;AACD,IAAIE,SAAS,GAAG,CAAC9J,EAAE,EAAEC,OAAO,EAAEC,OAAO,EAAEC,EAAE,EAAEC,EAAE,CAAC;AAC9C,IAAI2J,YAAY,GAAG,SAAAA,CAAUN,IAAI,EAAE;EAC/B,OAAOK,SAAS,CAACE,IAAI,CAAC,UAAUC,IAAI,EAAE;IAClC,OAAOA,IAAI,CAACC,IAAI,CAACT,IAAI,CAAC;EAC1B,CAAC,CAAC;AACN,CAAC;AACD,IAAIU,UAAU,GAAG,SAAAA,CAAUV,IAAI,EAAE;EAC7B,OAAOW,OAAO,CAACL,YAAY,CAACN,IAAI,CAAC,CAAC;AACtC,CAAC;AACD,IAAIY,YAAY,GAAG,SAAAA,CAAU3G,MAAM,EAAEzC,KAAK,EAAE;EACxC,OAAOyC,MAAM,CAACzC,KAAK,CAAC;AACxB,CAAC;AACD,IAAIqJ,gBAAgB,GAAG,SAAAA,CAAUxG,CAAC,EAAE;EAChC,OAAO,UAAU7C,KAAK,EAAE8F,GAAG,EAAE;IACzB9F,KAAK,CAAC8F,GAAG,CAAC,GAAG9F,KAAK,CAAC8F,GAAG,CAAC,CAACjD,CAAC,CAAC;IAC1B,OAAO7C,KAAK;EAChB,CAAC;AACL,CAAC;AACD,IAAIsJ,iBAAiB,GAAG,SAAAA,CAAU7G,MAAM,EAAEzC,KAAK,EAAE0I,UAAU,EAAE;EACzD,IAAIa,cAAc,GAAGb,UAAU,CAAC,CAAC,CAAC;EAClC,IAAIc,UAAU,GAAGxJ,KAAK,CAACuJ,cAAc,CAAC,CAAC/C,GAAG,CAAC,UAAU5F,CAAC,EAAEiC,CAAC,EAAE;IACvD,IAAI4G,gBAAgB,GAAGf,UAAU,CAACd,MAAM,CAACyB,gBAAgB,CAACxG,CAAC,CAAC,EAAEjG,QAAQ,CAAC,CAAC,CAAC,EAAEoD,KAAK,CAAC,CAAC;IAClF,OAAO0J,gBAAgB,CAAC9I,CAAC,CAAC,CAAC6B,MAAM,EAAEgH,gBAAgB,CAAC;EACxD,CAAC,CAAC;EACF,OAAOtB,UAAU,CAACzH,KAAK,CAAC,KAAK,CAAC,EAAE8I,UAAU,CAAC;AAC/C,CAAC;AACD,IAAIG,iBAAiB,GAAG,SAAAA,CAAU7D,GAAG,EAAE;EACnC,OAAO,UAAU9F,KAAK,EAAEgI,OAAO,EAAE;IAC7BhI,KAAK,CAACgI,OAAO,CAAC,GAAGhI,KAAK,CAACgI,OAAO,CAAC,CAAClC,GAAG,CAAC;IACpC,OAAO9F,KAAK;EAChB,CAAC;AACL,CAAC;AACD,IAAI4J,kBAAkB,GAAG,SAAAA,CAAUnH,MAAM,EAAEzC,KAAK,EAAE0I,UAAU,EAAE;EAC1D,IAAIa,cAAc,GAAGb,UAAU,CAAC,CAAC,CAAC;EAClC,IAAImB,SAAS,GAAG3F,MAAM,CAACyD,IAAI,CAAC3H,KAAK,CAACuJ,cAAc,CAAC,CAAC,CAAC3B,MAAM,CAAC,UAAUpB,GAAG,EAAEV,GAAG,EAAE;IAC1E,IAAI2D,gBAAgB,GAAGf,UAAU,CAACd,MAAM,CAAC+B,iBAAiB,CAAC7D,GAAG,CAAC,EAAElJ,QAAQ,CAAC,CAAC,CAAC,EAAEoD,KAAK,CAAC,CAAC;IACrFwG,GAAG,CAACV,GAAG,CAAC,GAAG4D,gBAAgB,CAAC1J,KAAK,CAACuJ,cAAc,CAAC,CAACzD,GAAG,CAAC,CAAC,CAACrD,MAAM,EAAEgH,gBAAgB,CAAC;IACjF,OAAOjD,GAAG;EACd,CAAC,EAAE,CAAC,CAAC,CAAC;EACN,OAAOsB,SAAS,CAAC+B,SAAS,CAAC;AAC/B,CAAC;AACD,IAAIC,gBAAgB,GAAG,SAAAA,CAAUrH,MAAM,EAAEvB,EAAE,EAAE;EACzC,IAAI6I,IAAI,GAAG7I,EAAE,CAAC6I,IAAI;IACdC,EAAE,GAAG9I,EAAE,CAAC8I,EAAE;IACVhK,KAAK,GAAGjD,MAAM,CAACmE,EAAE,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;EACtC,IAAI+I,QAAQ,GAAGnB,YAAY,CAACiB,IAAI,CAAC,IAAIjB,YAAY,CAACkB,EAAE,CAAC;EACrD,IAAIE,SAAS,GAAGD,QAAQ,CAACC,SAAS;IAC9BC,KAAK,GAAGF,QAAQ,CAACE,KAAK;EAC1B,OAAO1H,MAAM,CAAC7F,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEoD,KAAK,CAAC,EAAE;IAAE+J,IAAI,EAAE,OAAOA,IAAI,KAAK,QAAQ,GAAGI,KAAK,CAACJ,IAAI,CAAC,GAAGA,IAAI;IAAEC,EAAE,EAAE,OAAOA,EAAE,KAAK,QAAQ,GAAGG,KAAK,CAACH,EAAE,CAAC,GAAGA;EAAG,CAAC,CAAC,CAAC,CAAChN,IAAI,CAACkN,SAAS,CAAC;AACtK,CAAC;AACD,IAAIE,iBAAiB,GAAG,SAAAA,CAAUC,KAAK,EAAE;EACrC,OAAO,UAAU5H,MAAM,EAAEvB,EAAE,EAAE;IACzB,IAAI6I,IAAI,GAAG7I,EAAE,CAAC6I,IAAI;MACdC,EAAE,GAAG9I,EAAE,CAAC8I,EAAE;MACVhK,KAAK,GAAGjD,MAAM,CAACmE,EAAE,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACtC,OAAOuB,MAAM,CAAC7F,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEoD,KAAK,CAAC,EAAE;MAAE+J,IAAI,EAAE,CAAC;MAAEC,EAAE,EAAE;IAAE,CAAC,CAAC,CAAC,CAAChN,IAAI,CAACqN,KAAK,CAACN,IAAI,EAAEC,EAAE,CAAC,CAAC;EAC1F,CAAC;AACL,CAAC;AACD,IAAIM,iBAAiB,GAAG,aAAaF,iBAAiB,CAACtM,QAAQ,CAAC;AAChE,IAAIyM,mBAAmB,GAAG,aAAaH,iBAAiB,CAACvM,UAAU,CAAC;AACpE,IAAI2M,kBAAkB,GAAG,SAAAA,CAAU/H,MAAM,EAAE4F,SAAS,EAAE;EAClD,IAAInH,EAAE,GAAGkH,iBAAiB,CAACC,SAAS,CAAC;IACjCM,eAAe,GAAGzH,EAAE,CAACyH,eAAe;IACpCF,aAAa,GAAGvH,EAAE,CAACuH,aAAa;EACpC,IAAIgC,YAAY,GAAG,SAAAA,CAAUzK,KAAK,EAAE;IAChC,IAAI0K,QAAQ,GAAG/B,eAAe,CAAC3I,KAAK,CAAC;IACrC,IAAI,CAAC0K,QAAQ,EAAE,OAAOjI,MAAM,CAACzC,KAAK,CAAC;IACnC,IAAI0I,UAAU,GAAGD,aAAa,CAACzI,KAAK,CAAC;IACrC,IAAI2K,OAAO,GAAGjC,UAAU,CAAC,CAAC,CAAC;IAC3B,IAAIkC,QAAQ,GAAG5K,KAAK,CAAC2K,OAAO,CAAC;IAC7B,OAAOjB,gBAAgB,CAACkB,QAAQ,CAAC,CAACnI,MAAM,EAAEzC,KAAK,EAAE0I,UAAU,CAAC;EAChE,CAAC;EACD,OAAO+B,YAAY;AACvB,CAAC;AACD,IAAIf,gBAAgB,GAAG,SAAAA,CAAUlB,IAAI,EAAE;EACnC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAC1B,OAAOY,YAAY;EACvB,CAAC,MAAM,IAAIxE,KAAK,CAACC,OAAO,CAAC2D,IAAI,CAAC,EAAE;IAC5B,OAAOc,iBAAiB;EAC5B,CAAC,MAAM,IAAIJ,UAAU,CAACV,IAAI,CAAC,EAAE;IACzB,OAAOsB,gBAAgB;EAC3B,CAAC,MAAM,IAAIjL,KAAK,CAACoK,IAAI,CAACT,IAAI,CAAC,EAAE;IACzB,OAAO8B,iBAAiB;EAC5B,CAAC,MAAM,IAAIxL,OAAO,CAACmK,IAAI,CAACT,IAAI,CAAC,EAAE;IAC3B,OAAO+B,mBAAmB;EAC9B,CAAC,MAAM,IAAI,OAAO/B,IAAI,KAAK,QAAQ,EAAE;IACjC,OAAOoB,kBAAkB;EAC7B,CAAC,MAAM;IACH,OAAOR,YAAY;EACvB;AACJ,CAAC;AAED,IAAIyB,KAAK,GAAG,SAAAA,CAAU7K,KAAK,EAAE;EACzB,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAG,CAAC,CAAC;EACd;EACA,OAAOyC,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIH,QAAQ,GAAGG,EAAE,CAACH,QAAQ;MACtBJ,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAImK,EAAE,GAAG9K,KAAK,CAAC0G,QAAQ;MACnBA,QAAQ,GAAGoE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MACjCC,EAAE,GAAG/K,KAAK,CAAC+J,IAAI;MACfA,IAAI,GAAGgB,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC7BC,EAAE,GAAGhL,KAAK,CAACiL,KAAK;MAChBA,KAAK,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MAChCE,EAAE,GAAGlL,KAAK,CAACmL,YAAY;MACvBA,YAAY,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MACvCE,EAAE,GAAGpL,KAAK,CAACqL,SAAS;MACpBA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MACpCE,YAAY,GAAGtL,KAAK,CAACsL,YAAY;IACrC,IAAIC,OAAO,GAAG,CAAC;IACf,IAAIC,SAAS,GAAGP,KAAK,GAAGvE,QAAQ;IAChC,IAAI+E,WAAW,GAAG1B,IAAI,GAAGyB,SAAS;IAClC,IAAIE,MAAM,GAAG,OAAOJ,YAAY,KAAK,WAAW,GAAGG,WAAW,GAAGH,YAAY,CAACG,WAAW,CAAC;IAC1F,IAAIC,MAAM,KAAKD,WAAW,EAAED,SAAS,GAAGE,MAAM,GAAG3B,IAAI;IACrD,IAAI4B,OAAO,GAAGjN,IAAI,CAACiC,MAAM,CAAC,UAAUO,EAAE,EAAE;MACpC,IAAI0K,UAAU,GAAG1K,EAAE,CAACkF,KAAK;MACzBmF,OAAO,IAAIK,UAAU;MACrB,IAAIxF,KAAK,GAAG,CAACoF,SAAS,GAAG5H,IAAI,CAACiI,GAAG,CAAC,CAACN,OAAO,GAAGJ,YAAY,CAAC;MAC1D,IAAIW,QAAQ,GAAG1F,KAAK,GAAGiF,SAAS,IAAIjF,KAAK,GAAG,CAACiF,SAAS;MACtD,IAAI7F,OAAO,GAAGsG,QAAQ,GAAGJ,MAAM,GAAGtF,KAAK,GAAGsF,MAAM;MAChD/K,MAAM,CAAC6E,OAAO,CAAC;MACf,IAAI,CAACsG,QAAQ,EAAE;QACXlN,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;QAC1B5K,QAAQ,CAAC,CAAC;MACd;IACJ,CAAC,EAAE,IAAI,CAAC;IACR,OAAO;MACHoB,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOvD,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;MACrC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AACD,IAAII,WAAW,GAAG,aAAavB,kBAAkB,CAACK,KAAK,EAAE;EACrDd,IAAI,EAAE3K,MAAM,CAAC6J,IAAI;EACjBqC,YAAY,EAAE,SAAAA,CAAUU,IAAI,EAAE;IAC1B,OAAO,OAAOA,IAAI,KAAK,UAAU;EACrC,CAAC;EACDtF,QAAQ,EAAEtH,MAAM,CAAC6J;AACrB,CAAC,CAAC;AAEF,IAAIgD,MAAM,GAAG,SAAAA,CAAUjM,KAAK,EAAE;EAC1B,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAG,CAAC,CAAC;EACd;EACA,OAAOyC,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;MAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAI+J,EAAE,GAAG9K,KAAK,CAAC0G,QAAQ;MACnBA,QAAQ,GAAGoE,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IACvC,IAAIC,EAAE,GAAG/K,KAAK,CAAC+J,IAAI;MACfA,IAAI,GAAGgB,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MAC/BC,EAAE,GAAGhL,KAAK,CAACgK,EAAE;MACbA,EAAE,GAAGgB,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MAC7BE,EAAE,GAAGlL,KAAK,CAACkM,SAAS;MACpBA,SAAS,GAAGhB,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MACpCE,EAAE,GAAGpL,KAAK,CAACmM,OAAO;MAClBA,OAAO,GAAGf,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MACjCgB,EAAE,GAAGpM,KAAK,CAACqM,IAAI;MACfA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MAC/BE,EAAE,GAAGtM,KAAK,CAACuM,SAAS;MACpBA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;MACrCE,EAAE,GAAGxM,KAAK,CAACqL,SAAS;MACpBA,SAAS,GAAGmB,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;IACzC,IAAIC,eAAe,GAAG/F,QAAQ,GAAG,EAAEA,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG;IACzD,IAAIgG,CAAC,GAAG,CAAC;IACT,IAAItG,KAAK,GAAG4D,EAAE,GAAGD,IAAI;IACrB,IAAI4C,QAAQ,GAAG5C,IAAI;IACnB,IAAI6C,YAAY,GAAGD,QAAQ;IAC3B,IAAIhB,OAAO,GAAGjN,IAAI,CAACiC,MAAM,CAAC,UAAUO,EAAE,EAAE;MACpC,IAAImF,SAAS,GAAGnF,EAAE,CAACkF,KAAK;MACxBsG,CAAC,IAAIrG,SAAS;MACd,IAAIwG,YAAY,GAAGV,OAAO,IAAI,CAAC,GAAGvI,IAAI,CAACkJ,IAAI,CAACZ,SAAS,GAAGG,IAAI,CAAC,CAAC;MAC9D,IAAIU,WAAW,GAAGnJ,IAAI,CAACkJ,IAAI,CAACZ,SAAS,GAAGG,IAAI,CAAC,GAAG,IAAI;MACpDO,YAAY,GAAGD,QAAQ;MACvB,IAAIE,YAAY,GAAG,CAAC,EAAE;QAClB,IAAIG,QAAQ,GAAGpJ,IAAI,CAACiI,GAAG,CAAC,CAACgB,YAAY,GAAGE,WAAW,GAAGL,CAAC,CAAC;QACxD,IAAIO,SAAS,GAAGF,WAAW,GAAGnJ,IAAI,CAACkJ,IAAI,CAAC,GAAG,GAAGD,YAAY,GAAGA,YAAY,CAAC;QAC1EF,QAAQ,GAAG3C,EAAE,GAAGgD,QAAQ,IAAI,CAACP,eAAe,GAAGI,YAAY,GAAGE,WAAW,GAAG3G,KAAK,IAAI6G,SAAS,GAAGrJ,IAAI,CAACsJ,GAAG,CAACD,SAAS,GAAGP,CAAC,CAAC,GAAGtG,KAAK,GAAGxC,IAAI,CAACuJ,GAAG,CAACF,SAAS,GAAGP,CAAC,CAAC,CAAC;MAC/J,CAAC,MAAM;QACH,IAAIM,QAAQ,GAAGpJ,IAAI,CAACiI,GAAG,CAAC,CAACkB,WAAW,GAAGL,CAAC,CAAC;QACzCC,QAAQ,GAAG3C,EAAE,GAAGgD,QAAQ,IAAI5G,KAAK,GAAG,CAACqG,eAAe,GAAGM,WAAW,GAAG3G,KAAK,IAAIsG,CAAC,CAAC;MACpF;MACAhG,QAAQ,GAAG9I,iBAAiB,CAAC+O,QAAQ,GAAGC,YAAY,EAAEvG,SAAS,CAAC;MAChE,IAAI+G,wBAAwB,GAAGxJ,IAAI,CAACyJ,GAAG,CAAC3G,QAAQ,CAAC,IAAI6F,SAAS;MAC9D,IAAIe,4BAA4B,GAAG1J,IAAI,CAACyJ,GAAG,CAACrD,EAAE,GAAG2C,QAAQ,CAAC,IAAItB,SAAS;MACvE,IAAI+B,wBAAwB,IAAIE,4BAA4B,EAAE;QAC1DX,QAAQ,GAAG3C,EAAE;QACbrJ,MAAM,CAACgM,QAAQ,CAAC;QAChB/N,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;QAC1B5K,QAAQ,CAAC,CAAC;MACd,CAAC,MAAM;QACHJ,MAAM,CAACgM,QAAQ,CAAC;MACpB;IACJ,CAAC,EAAE,IAAI,CAAC;IACR,OAAO;MACHxK,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOvD,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;MACrC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AACD,IAAI4B,YAAY,GAAG,aAAa/C,kBAAkB,CAACyB,MAAM,EAAE;EACvDlC,IAAI,EAAE3K,MAAM,CAAC6J,IAAI;EACjBe,EAAE,EAAE5K,MAAM,CAAC6J,IAAI;EACfiD,SAAS,EAAE9M,MAAM,CAAC6J,IAAI;EACtBkD,OAAO,EAAE/M,MAAM,CAAC6J,IAAI;EACpBoD,IAAI,EAAEjN,MAAM,CAAC6J,IAAI;EACjBvC,QAAQ,EAAEtH,MAAM,CAAC6J;AACrB,CAAC,CAAC;AAEF,IAAIuE,OAAO,GAAG,SAAAA,CAAUtM,EAAE,EAAE;EACxB,IAAI4J,EAAE,GAAG5J,EAAE,CAAC6I,IAAI;IACZA,IAAI,GAAGe,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IAC7BC,EAAE,GAAG7J,EAAE,CAACwF,QAAQ;IAChBA,QAAQ,GAAGqE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACjClH,GAAG,GAAG3C,EAAE,CAAC2C,GAAG;IACZ4J,GAAG,GAAGvM,EAAE,CAACuM,GAAG;IACZzC,EAAE,GAAG9J,EAAE,CAAC+J,KAAK;IACbA,KAAK,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IAChCE,EAAE,GAAGhK,EAAE,CAACiK,YAAY;IACpBA,YAAY,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IACvCE,EAAE,GAAGlK,EAAE,CAACwM,eAAe;IACvBA,eAAe,GAAGtC,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IAC1CgB,EAAE,GAAGlL,EAAE,CAACyM,aAAa;IACrBA,aAAa,GAAGvB,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IACvCE,EAAE,GAAGpL,EAAE,CAACmK,SAAS;IACjBA,SAAS,GAAGiB,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IAClChB,YAAY,GAAGpK,EAAE,CAACoK,YAAY;EAClC,OAAO7I,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;MAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAIwE,IAAI,GAAGwE,IAAI;IACf,IAAIvE,OAAO,GAAGuE,IAAI;IAClB,IAAI6D,eAAe;IACnB,IAAIC,aAAa,GAAG,SAAAA,CAAUjN,CAAC,EAAE;MAC7B,OAAOiD,GAAG,KAAKzB,SAAS,IAAIxB,CAAC,GAAGiD,GAAG,IAAI4J,GAAG,KAAKrL,SAAS,IAAIxB,CAAC,GAAG6M,GAAG;IACvE,CAAC;IACD,IAAIK,eAAe,GAAG,SAAAA,CAAUlN,CAAC,EAAE;MAC/B,OAAOgD,IAAI,CAACyJ,GAAG,CAACxJ,GAAG,GAAGjD,CAAC,CAAC,GAAGgD,IAAI,CAACyJ,GAAG,CAACI,GAAG,GAAG7M,CAAC,CAAC,GAAGiD,GAAG,GAAG4J,GAAG;IAC5D,CAAC;IACD,IAAIM,cAAc,GAAG,SAAAA,CAAUC,SAAS,EAAEC,IAAI,EAAE;MAC5CL,eAAe,IAAIA,eAAe,CAACzL,IAAI,CAAC,CAAC;MACzCyL,eAAe,GAAGI,SAAS,CAAChM,KAAK,CAAC;QAC9BrB,MAAM,EAAEA,MAAM;QACdI,QAAQ,EAAE,SAAAA,CAAA,EAAY;UAClB,IAAIkN,IAAI,EAAE;YACNA,IAAI,CAAC,CAAC;YACN;UACJ;UACAlN,QAAQ,CAAC,CAAC;QACd;MACJ,CAAC,CAAC;IACN,CAAC;IACD,IAAImN,WAAW,GAAG,SAAAA,CAAUlO,KAAK,EAAE;MAC/B+N,cAAc,CAAC9B,MAAM,CAACrP,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEoD,KAAK,CAAC,EAAE;QAAEkM,SAAS,EAAEwB,eAAe;QAAEvB,OAAO,EAAEwB,aAAa;QAAEtC,SAAS,EAAEA;MAAU,CAAC,CAAC,CAAC,CAAC;IACvI,CAAC;IACD,IAAIwC,aAAa,CAAC9D,IAAI,CAAC,EAAE;MACrBmE,WAAW,CAAC;QAAEnE,IAAI,EAAEA,IAAI;QAAErD,QAAQ,EAAEA,QAAQ;QAAEsD,EAAE,EAAE8D,eAAe,CAAC/D,IAAI;MAAE,CAAC,CAAC;IAC9E,CAAC,MAAM;MACH,IAAIC,EAAE,GAAGiB,KAAK,GAAGvE,QAAQ,GAAGqD,IAAI;MAChC,IAAI,OAAOuB,YAAY,KAAK,WAAW,EAAE;QACrCtB,EAAE,GAAGsB,YAAY,CAACtB,EAAE,CAAC;QACrBsB,YAAY,GAAG,KAAK,CAAC;QACrB5E,QAAQ,GAAG,CAACsD,EAAE,GAAGD,IAAI,IAAIkB,KAAK;MAClC;MACA,IAAI+C,SAAS,GAAGnD,KAAK,CAAC;QAClBd,IAAI,EAAEA,IAAI;QACVrD,QAAQ,EAAEA,QAAQ;QAClByE,YAAY,EAAEA,YAAY;QAC1BF,KAAK,EAAEA,KAAK;QACZI,SAAS,EAAEA,SAAS;QACpBC,YAAY,EAAEA;MAClB,CAAC,CAAC;MACF,IAAI2C,IAAI,GAAG,KAAK,CAAC;MACjB,IAAIJ,aAAa,CAAC7D,EAAE,CAAC,EAAE;QACnB,IAAImE,UAAU,GAAGL,eAAe,CAAC9D,EAAE,CAAC;QACpC,IAAIoE,SAAS,GAAGD,UAAU,IAAItK,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;QAC1CmK,SAAS,GAAGA,SAAS,CAACnN,KAAK,CAAC,UAAUD,CAAC,EAAE;UACrC2E,IAAI,GAAGC,OAAO;UACdkB,QAAQ,GAAG9I,iBAAiB,CAACgD,CAAC,GAAG2E,IAAI,EAAE5G,YAAY,CAAC,CAAC,CAACyH,KAAK,CAAC;UAC5DZ,OAAO,GAAG5E,CAAC;UACX,OAAOuN,UAAU,GAAGvN,CAAC,GAAGwN,SAAS,GAAG,CAAC;QACzC,CAAC,CAAC;QACFH,IAAI,GAAG,SAAAA,CAAA,EAAY;UACf,OAAOC,WAAW,CAAC;YAAEnE,IAAI,EAAEvE,OAAO;YAAEwE,EAAE,EAAEmE,UAAU;YAAEzH,QAAQ,EAAEA;UAAS,CAAC,CAAC;QAC7E,CAAC;MACL;MACAqH,cAAc,CAACC,SAAS,EAAEC,IAAI,CAAC;IACnC;IACA,OAAO;MACH9L,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOyL,eAAe,IAAIA,eAAe,CAACzL,IAAI,CAAC,CAAC;MACpD;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AACD,IAAIc,KAAK,GAAG,aAAauH,kBAAkB,CAACgD,OAAO,EAAE;EACjDzD,IAAI,EAAE3K,MAAM,CAAC6J,IAAI;EACjBvC,QAAQ,EAAEtH,MAAM,CAAC6J,IAAI;EACrBpF,GAAG,EAAEzE,MAAM,CAAC6J,IAAI;EAChBwE,GAAG,EAAErO,MAAM,CAAC6J,IAAI;EAChBkD,OAAO,EAAE/M,MAAM,CAAC6J,IAAI;EACpBiD,SAAS,EAAE9M,MAAM,CAAC6J,IAAI;EACtBqC,YAAY,EAAE,SAAAA,CAAUU,IAAI,EAAE;IAC1B,OAAO,OAAOA,IAAI,KAAK,UAAU;EACrC;AACJ,CAAC,CAAC;AAEF,IAAIqC,KAAK,GAAG,SAAAA,CAAA,EAAY;EACpB,OAAO5L,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAI2N,WAAW,GAAG,CAAC;IACnB,IAAI3C,OAAO,GAAGjN,IAAI,CAACiC,MAAM,CAAC,UAAUO,EAAE,EAAE;MACpC,IAAImE,SAAS,GAAGnE,EAAE,CAACmE,SAAS;MAC5B,IAAI,CAACiJ,WAAW,EAAEA,WAAW,GAAGjJ,SAAS;MACzC1E,MAAM,CAAC0E,SAAS,GAAGiJ,WAAW,CAAC;IACnC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;IACd,OAAO;MACHnM,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOvD,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;MACrC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAI4C,QAAQ,GAAG,SAAAA,CAAUrN,EAAE,EAAE;EACzB,IAAI4J,EAAE,GAAG5J,EAAE,CAAC6I,IAAI;IACZA,IAAI,GAAGe,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IAC7BC,EAAE,GAAG7J,EAAE,CAAC8I,EAAE;IACVA,EAAE,GAAGe,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IAC3BC,EAAE,GAAG9J,EAAE,CAACsN,IAAI;IACZA,IAAI,GAAGxD,EAAE,KAAK,KAAK,CAAC,GAAGxL,MAAM,GAAGwL,EAAE;IAClCE,EAAE,GAAGhK,EAAE,CAACuN,WAAW;IACnBA,WAAW,GAAGvD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,EAAE;EAC5C,IAAIuD,WAAW,EAAE;IACbD,IAAI,GAAGjP,oBAAoB,CAACiP,IAAI,CAAC;EACrC;EACA,OAAO/L,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,OAAO;MACH+N,IAAI,EAAE,SAAAA,CAAUlR,QAAQ,EAAE;QACtB,OAAOmD,MAAM,CAACnD,QAAQ,CAAC;MAC3B;IACJ,CAAC;EACL,CAAC,CAAC,CAACR,IAAI,CAACwR,IAAI,EAAE,UAAU5N,CAAC,EAAE;IACvB,OAAOtD,GAAG,CAACyM,IAAI,EAAEC,EAAE,EAAEpJ,CAAC,CAAC;EAC3B,CAAC,CAAC;AACN,CAAC;AACD,IAAI+N,cAAc,GAAG,aAAanE,kBAAkB,CAAC+D,QAAQ,EAAE;EAC3DC,IAAI,EAAE,SAAAA,CAAUxC,IAAI,EAAE;IAClB,OAAO,OAAOA,IAAI,KAAK,UAAU;EACrC,CAAC;EACDjC,IAAI,EAAE3K,MAAM,CAAC6J,IAAI;EACjBe,EAAE,EAAE5K,MAAM,CAAC6J;AACf,CAAC,CAAC;AAEF,IAAI2F,aAAa,GAAG,aAAa7Q,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC5C,IAAI8Q,KAAK,GAAG,SAAAA,CAAU7O,KAAK,EAAE;EACzB,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAG,CAAC,CAAC;EACd;EACA,OAAOyC,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;MAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAI+J,EAAE,GAAG9K,KAAK,CAAC8O,QAAQ;MACnBA,QAAQ,GAAGhE,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;MACnCC,EAAE,GAAG/K,KAAK,CAACwO,IAAI;MACfA,IAAI,GAAGzD,EAAE,KAAK,KAAK,CAAC,GAAGtL,OAAO,GAAGsL,EAAE;MACnCC,EAAE,GAAGhL,KAAK,CAAC+O,IAAI;MACfA,IAAI,GAAG/D,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC7BE,EAAE,GAAGlL,KAAK,CAACgP,IAAI;MACfA,IAAI,GAAG9D,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC7BE,EAAE,GAAGpL,KAAK,CAACiP,IAAI;MACfA,IAAI,GAAG7D,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC7BgB,EAAE,GAAGpM,KAAK,CAACkP,WAAW;MACtBA,WAAW,GAAG9C,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACxC,IAAIE,EAAE,GAAGtM,KAAK,CAAC+J,IAAI;MACfA,IAAI,GAAGuC,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC7BE,EAAE,GAAGxM,KAAK,CAACgK,EAAE;MACbA,EAAE,GAAGwC,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAC3B2C,EAAE,GAAGnP,KAAK,CAACuL,OAAO;MAClBA,OAAO,GAAG4D,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAChCC,EAAE,GAAGpP,KAAK,CAACqP,SAAS;MACpBA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAClCE,EAAE,GAAGtP,KAAK,CAACuP,SAAS;MACpBA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MAClCE,EAAE,GAAGxP,KAAK,CAACyP,SAAS;MACpBA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACtC,IAAIE,QAAQ,GAAGf,cAAc,CAAC;MAAE5E,IAAI,EAAEA,IAAI;MAAEC,EAAE,EAAEA,EAAE;MAAEwE,IAAI,EAAEA;IAAK,CAAC,CAAC,CAACxM,KAAK,CAACrB,MAAM,CAAC;IAC/E,IAAIgP,eAAe,GAAG,CAAC;IACvB,IAAIhE,OAAO;IACX,IAAIrK,QAAQ,GAAG,KAAK;IACpB,IAAIsO,gBAAgB,GAAG,SAAAA,CAAUnB,WAAW,EAAE;MAC1C,IAAIvN,EAAE;MACN,IAAIuN,WAAW,KAAK,KAAK,CAAC,EAAE;QACxBA,WAAW,GAAG,KAAK;MACvB;MACAvN,EAAE,GAAG,CAAC8I,EAAE,EAAED,IAAI,CAAC,EAAEA,IAAI,GAAG7I,EAAE,CAAC,CAAC,CAAC,EAAE8I,EAAE,GAAG9I,EAAE,CAAC,CAAC,CAAC;MACzCwO,QAAQ,GAAGf,cAAc,CAAC;QAAE5E,IAAI,EAAEA,IAAI;QAAEC,EAAE,EAAEA,EAAE;QAAEwE,IAAI,EAAEA,IAAI;QAAEC,WAAW,EAAEA;MAAY,CAAC,CAAC,CAACzM,KAAK,CAACrB,MAAM,CAAC;IACzG,CAAC;IACD,IAAIkP,eAAe,GAAG,SAAAA,CAAA,EAAY;MAC9B,IAAI5N,UAAU,GAAGX,QAAQ,IAAIiK,OAAO,GAAGuD,QAAQ,GAAGI,WAAW;MAC7D,IAAI,CAACjN,UAAU,EAAE,OAAO,KAAK;MAC7B,IAAIA,UAAU,IAAI,CAAC+M,IAAI,IAAI,CAACD,IAAI,IAAI,CAACE,IAAI,EAAE,OAAO,IAAI;MACtD1D,OAAO,GAAGuD,QAAQ,IAAIvD,OAAO,GAAG2D,WAAW,CAAC;MAC5C,IAAIF,IAAI,IAAIS,SAAS,GAAGT,IAAI,EAAE;QAC1BS,SAAS,EAAE;QACX,OAAO,KAAK;MAChB,CAAC,MAAM,IAAIV,IAAI,IAAIM,SAAS,GAAGN,IAAI,EAAE;QACjCM,SAAS,EAAE;QACXO,gBAAgB,CAAC,CAAC;QAClB,OAAO,KAAK;MAChB,CAAC,MAAM,IAAIX,IAAI,IAAIM,SAAS,GAAGN,IAAI,EAAE;QACjCM,SAAS,EAAE;QACXK,gBAAgB,CAACL,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC;QACrC,OAAO,KAAK;MAChB;MACA,OAAO,IAAI;IACf,CAAC;IACD,IAAIO,WAAW,GAAG,SAAAA,CAAA,EAAY;MAC1BH,eAAe,GAAGf,aAAa,CAACpR,QAAQ,CAAC,CAAC,EAAEsR,QAAQ,EAAEvD,OAAO,CAAC,CAAC;MAC/DmE,QAAQ,CAAChB,IAAI,CAACiB,eAAe,CAAC;IAClC,CAAC;IACD,IAAII,UAAU,GAAG,SAAAA,CAAA,EAAY;MACzBzO,QAAQ,GAAG,IAAI;MACfqK,OAAO,GAAGjN,IAAI,CAACiC,MAAM,CAAC,UAAUO,EAAE,EAAE;QAChC,IAAIkF,KAAK,GAAGlF,EAAE,CAACkF,KAAK;QACpBmF,OAAO,IAAInF,KAAK;QAChB0J,WAAW,CAAC,CAAC;QACb,IAAID,eAAe,CAAC,CAAC,EAAE;UACnBjR,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;UAC1B5K,QAAQ,IAAIrC,IAAI,CAACiC,MAAM,CAACI,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC;QAClD;MACJ,CAAC,EAAE,IAAI,CAAC;IACZ,CAAC;IACD,IAAIiP,SAAS,GAAG,SAAAA,CAAA,EAAY;MACxB1O,QAAQ,GAAG,KAAK;MAChB,IAAIqK,OAAO,EAAE/M,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;IAC3C,CAAC;IACDoE,UAAU,CAAC,CAAC;IACZ,OAAO;MACHzO,QAAQ,EAAE,SAAAA,CAAA,EAAY;QAClB,OAAOA,QAAQ;MACnB,CAAC;MACD2O,UAAU,EAAE,SAAAA,CAAA,EAAY;QACpB,OAAOlS,KAAK,CAAC,CAAC,EAAE+Q,QAAQ,EAAEvD,OAAO,CAAC;MACtC,CAAC;MACD2E,WAAW,EAAE,SAAAA,CAAA,EAAY;QACrB,OAAOP,eAAe;MAC1B,CAAC;MACDxN,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd6N,SAAS,CAAC,CAAC;MACf,CAAC;MACDG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACfH,SAAS,CAAC,CAAC;QACX,OAAO,IAAI;MACf,CAAC;MACDI,MAAM,EAAE,SAAAA,CAAA,EAAY;QAChB,IAAI,CAAC9O,QAAQ,EAAEyO,UAAU,CAAC,CAAC;QAC3B,OAAO,IAAI;MACf,CAAC;MACDrB,IAAI,EAAE,SAAAA,CAAU2B,WAAW,EAAE;QACzB9E,OAAO,GAAGjO,GAAG,CAAC,CAAC,EAAEwR,QAAQ,EAAEuB,WAAW,CAAC;QACvC3R,IAAI,CAACiC,MAAM,CAACmP,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC;QACrC,OAAO,IAAI;MACf,CAAC;MACDQ,OAAO,EAAE,SAAAA,CAAA,EAAY;QACjBV,gBAAgB,CAAC,CAAC;QAClB,OAAO,IAAI;MACf;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAIW,eAAe,GAAG,aAAaxS,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9C,IAAIyS,cAAc,GAAG,SAAAA,CAAUC,MAAM,EAAE9Q,MAAM,EAAE;EAC3C,OAAO8Q,MAAM,CAACjK,GAAG,CAAC,YAAY;IAC1B,OAAO7G,MAAM,IAAIF,OAAO;EAC5B,CAAC,CAAC,CAAC0D,MAAM,CAAC,CAAC,EAAEsN,MAAM,CAACjQ,MAAM,GAAG,CAAC,CAAC;AACnC,CAAC;AACD,IAAIkQ,cAAc,GAAG,SAAAA,CAAUD,MAAM,EAAE;EACnC,IAAIE,SAAS,GAAGF,MAAM,CAACjQ,MAAM;EAC7B,OAAOiQ,MAAM,CAACjK,GAAG,CAAC,UAAUf,KAAK,EAAE5C,CAAC,EAAE;IAClC,OAAOA,CAAC,KAAK,CAAC,GAAGA,CAAC,IAAI8N,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC;EAC5C,CAAC,CAAC;AACN,CAAC;AACD,IAAIC,oBAAoB,GAAG,SAAAA,CAAUC,KAAK,EAAEC,SAAS,EAAEnQ,MAAM,EAAE;EAC3D,IAAIoQ,WAAW,GAAGF,KAAK,CAACrQ,MAAM;EAC9B,IAAIwQ,eAAe,GAAGD,WAAW,GAAG,CAAC;EACrC,IAAIE,kBAAkB,GAAGD,eAAe,GAAG,CAAC;EAC5C,IAAIzJ,IAAI,GAAGuJ,SAAS,CAACtK,GAAG,CAAC,UAAU0K,KAAK,EAAE;IACtC,OAAOA,KAAK,CAAClP,KAAK,CAACrB,MAAM,CAAC;EAC9B,CAAC,CAAC;EACF,OAAO,UAAUC,CAAC,EAAE;IAChB,IAAIA,CAAC,IAAIiQ,KAAK,CAAC,CAAC,CAAC,EAAE;MACftJ,IAAI,CAAC,CAAC,CAAC,CAACmH,IAAI,CAAC,CAAC,CAAC;IACnB;IACA,IAAI9N,CAAC,IAAIiQ,KAAK,CAACG,eAAe,CAAC,EAAE;MAC7BzJ,IAAI,CAAC0J,kBAAkB,CAAC,CAACvC,IAAI,CAAC,CAAC,CAAC;IACpC;IACA,IAAI7L,CAAC,GAAG,CAAC;IACT,OAAOA,CAAC,GAAGkO,WAAW,EAAElO,CAAC,EAAE,EAAE;MACzB,IAAIgO,KAAK,CAAChO,CAAC,CAAC,GAAGjC,CAAC,IAAIiC,CAAC,KAAKmO,eAAe,EAAE;IAC/C;IACA,IAAIG,eAAe,GAAG3T,QAAQ,CAACqT,KAAK,CAAChO,CAAC,GAAG,CAAC,CAAC,EAAEgO,KAAK,CAAChO,CAAC,CAAC,EAAEjC,CAAC,CAAC;IACzD2G,IAAI,CAAC1E,CAAC,GAAG,CAAC,CAAC,CAAC6L,IAAI,CAAC6B,eAAe,CAACY,eAAe,CAAC,CAAC;EACtD,CAAC;AACL,CAAC;AACD,IAAIC,SAAS,GAAG,SAAAA,CAAUlQ,EAAE,EAAE;EAC1B,IAAImQ,OAAO,GAAGnQ,EAAE,CAACmQ,OAAO;IACpBvG,EAAE,GAAG5J,EAAE,CAACsN,IAAI;IACZA,IAAI,GAAG1D,EAAE,KAAK,KAAK,CAAC,GAAGtL,MAAM,GAAGsL,EAAE;IAClCwG,KAAK,GAAGpQ,EAAE,CAACoQ,KAAK;IAChBb,MAAM,GAAGvP,EAAE,CAACuP,MAAM;IAClBc,UAAU,GAAGxU,MAAM,CAACmE,EAAE,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;EACnEmQ,OAAO,GAAGzM,KAAK,CAACC,OAAO,CAACwM,OAAO,CAAC,GAAGA,OAAO,GAAGb,cAAc,CAACC,MAAM,EAAEY,OAAO,CAAC;EAC5EC,KAAK,GAAGA,KAAK,IAAIZ,cAAc,CAACD,MAAM,CAAC;EACvC,IAAIK,SAAS,GAAGO,OAAO,CAAC7K,GAAG,CAAC,UAAU7G,MAAM,EAAEkD,CAAC,EAAE;IAC7C,OAAO8L,cAAc,CAAC;MAClB5E,IAAI,EAAE0G,MAAM,CAAC5N,CAAC,CAAC;MACfmH,EAAE,EAAEyG,MAAM,CAAC5N,CAAC,GAAG,CAAC,CAAC;MACjB2L,IAAI,EAAE7O;IACV,CAAC,CAAC;EACN,CAAC,CAAC;EACF,OAAOkP,KAAK,CAACjS,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAE2U,UAAU,CAAC,EAAE;IAAE/C,IAAI,EAAEA;EAAK,CAAC,CAAC,CAAC,CAACtO,eAAe,CAAC,UAAUS,MAAM,EAAE;IAC/F,OAAOiQ,oBAAoB,CAACU,KAAK,EAAER,SAAS,EAAEnQ,MAAM,CAAC;EACzD,CAAC,CAAC;AACN,CAAC;AAED,IAAI6Q,OAAO,GAAG,SAAAA,CAAUxR,KAAK,EAAE;EAC3B,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAG,CAAC,CAAC;EACd;EACA,OAAOyC,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIH,QAAQ,GAAGG,EAAE,CAACH,QAAQ;MACtBJ,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAImK,EAAE,GAAG9K,KAAK,CAACyR,YAAY;MACvBA,YAAY,GAAG3G,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MACrCC,EAAE,GAAG/K,KAAK,CAAC0R,QAAQ;MACnBA,QAAQ,GAAG3G,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MACjCC,EAAE,GAAGhL,KAAK,CAAC0G,QAAQ;MACnBA,QAAQ,GAAGsE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;MACjC2G,cAAc,GAAG3R,KAAK,CAAC2R,cAAc;MACrC3H,EAAE,GAAGhK,KAAK,CAACgK,EAAE;IACjB,IAAIkB,EAAE,GAAGlL,KAAK,CAACuM,SAAS;MACpBA,SAAS,GAAGrB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,EAAE;MACtCE,EAAE,GAAGpL,KAAK,CAAC+J,IAAI;MACfA,IAAI,GAAGqB,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACjC,IAAI5F,OAAO,GAAGuE,IAAI;IAClB,IAAI4B,OAAO,GAAGjN,IAAI,CAACiC,MAAM,CAAC,UAAUO,EAAE,EAAE;MACpC,IAAIkF,KAAK,GAAGlF,EAAE,CAACkF,KAAK;MACpB,IAAImF,OAAO,GAAG3H,IAAI,CAAC6J,GAAG,CAACrH,KAAK,EAAE,EAAE,CAAC;MACjC,IAAIqL,YAAY,EAAE/K,QAAQ,IAAI/I,gBAAgB,CAAC8T,YAAY,EAAElG,OAAO,CAAC;MACrE,IAAImG,QAAQ,EAAEhL,QAAQ,IAAI9C,IAAI,CAACgO,GAAG,CAAC,CAAC,GAAGF,QAAQ,EAAEnG,OAAO,GAAG,GAAG,CAAC;MAC/D,IAAIoG,cAAc,KAAKvP,SAAS,IAAI4H,EAAE,KAAK5H,SAAS,EAAE;QAClD,IAAIyP,gBAAgB,GAAG7H,EAAE,GAAGxE,OAAO;QACnCkB,QAAQ,IAAImL,gBAAgB,GAAGlU,gBAAgB,CAACgU,cAAc,EAAEpG,OAAO,CAAC;MAC5E;MACA/F,OAAO,IAAI7H,gBAAgB,CAAC+I,QAAQ,EAAE6E,OAAO,CAAC;MAC9C5K,MAAM,CAAC6E,OAAO,CAAC;MACf,IAAIvD,UAAU,GAAGsK,SAAS,KAAK,KAAK,KAAK,CAAC7F,QAAQ,IAAI9C,IAAI,CAACyJ,GAAG,CAAC3G,QAAQ,CAAC,IAAI6F,SAAS,CAAC;MACtF,IAAItK,UAAU,EAAE;QACZrD,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;QAC1B5K,QAAQ,CAAC,CAAC;MACd;IACJ,CAAC,EAAE,IAAI,CAAC;IACR,OAAO;MACH+Q,GAAG,EAAE,SAAAA,CAAUlR,CAAC,EAAE;QACd4E,OAAO,GAAG5E,CAAC;QACX,OAAO,IAAI;MACf,CAAC;MACDmR,eAAe,EAAE,SAAAA,CAAUnR,CAAC,EAAE;QAC1B6Q,YAAY,GAAG7Q,CAAC;QAChB,OAAO,IAAI;MACf,CAAC;MACDoR,WAAW,EAAE,SAAAA,CAAUpR,CAAC,EAAE;QACtB8Q,QAAQ,GAAG9Q,CAAC;QACZ,OAAO,IAAI;MACf,CAAC;MACDqR,iBAAiB,EAAE,SAAAA,CAAUrR,CAAC,EAAE;QAC5B+Q,cAAc,GAAG/Q,CAAC;QAClB,OAAO,IAAI;MACf,CAAC;MACDsR,eAAe,EAAE,SAAAA,CAAUtR,CAAC,EAAE;QAC1BoJ,EAAE,GAAGpJ,CAAC;QACN,OAAO,IAAI;MACf,CAAC;MACDuR,WAAW,EAAE,SAAAA,CAAUvR,CAAC,EAAE;QACtB8F,QAAQ,GAAG9F,CAAC;QACZ,OAAO,IAAI;MACf,CAAC;MACDuB,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOvD,UAAU,CAAC+B,MAAM,CAACgL,OAAO,CAAC;MACrC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AACD,IAAIyG,aAAa,GAAG,aAAa5H,kBAAkB,CAACgH,OAAO,EAAE;EACzDC,YAAY,EAAErS,MAAM,CAAC6J,IAAI;EACzByI,QAAQ,EAAEtS,MAAM,CAAC6J,IAAI;EACrBvC,QAAQ,EAAEtH,MAAM,CAAC6J,IAAI;EACrBc,IAAI,EAAE3K,MAAM,CAAC6J,IAAI;EACjBe,EAAE,EAAE5K,MAAM,CAAC6J,IAAI;EACf0I,cAAc,EAAEvS,MAAM,CAAC6J;AAC3B,CAAC,CAAC;AAEF,IAAIoJ,gBAAgB,GAAG,GAAG;AAC1B,IAAIC,cAAc,GAAG,SAAAA,CAAUC,YAAY,EAAE;EACzC,IAAIC,gBAAgB,GAAG,EAAE;EACzB,IAAIC,OAAO,GAAGF,YAAY,CAACA,YAAY,CAAC/R,MAAM,GAAG,CAAC,CAAC;EACnD,IAAIkS,WAAW,GAAG,OAAOD,OAAO,KAAK,QAAQ;EAC7C,IAAIE,YAAY,GAAGD,WAAW,GAAGD,OAAO,GAAG,CAAC;EAC5C,IAAIG,QAAQ,GAAGF,WAAW,GAAGH,YAAY,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAGN,YAAY;EACrE,IAAIO,WAAW,GAAGF,QAAQ,CAACpS,MAAM;EACjC,IAAIuS,MAAM,GAAG,CAAC;EACdH,QAAQ,CAAClR,OAAO,CAAC,UAAUsR,IAAI,EAAEnQ,CAAC,EAAE;IAChC2P,gBAAgB,CAACzP,IAAI,CAACiQ,IAAI,CAAC;IAC3B,IAAInQ,CAAC,KAAKiQ,WAAW,GAAG,CAAC,EAAE;MACvB,IAAIhE,QAAQ,GAAGkE,IAAI,CAAClE,QAAQ,IAAIuD,gBAAgB;MAChDU,MAAM,GAAGJ,YAAY;MACrBH,gBAAgB,CAACzP,IAAI,CAAC,EAAE,IAAIgQ,MAAM,GAAGjE,QAAQ,CAAC,CAAC;IACnD;EACJ,CAAC,CAAC;EACF,OAAO0D,gBAAgB;AAC3B,CAAC;AACD,IAAIS,wBAAwB,GAAG,SAAAA,CAAUV,YAAY,EAAEW,WAAW,EAAE;EAChEtO,KAAK,CAACC,OAAO,CAACqO,WAAW,CAAC,GAAGX,YAAY,CAACxP,IAAI,CAACrC,KAAK,CAAC6R,YAAY,EAAED,cAAc,CAACY,WAAW,CAAC,CAAC,GAAGX,YAAY,CAACxP,IAAI,CAACmQ,WAAW,CAAC;EAChI,OAAOX,YAAY;AACvB,CAAC;AACD,IAAIY,iBAAiB,GAAG,SAAAA,CAAUnT,KAAK,EAAEoT,GAAG,EAAEvQ,CAAC,EAAE;EAC7C,IAAIiM,QAAQ,GAAG9O,KAAK,CAAC8O,QAAQ;IACzBuC,OAAO,GAAGrR,KAAK,CAACqR,OAAO;IACvBC,KAAK,GAAGtR,KAAK,CAACsR,KAAK;IACnBb,MAAM,GAAGzQ,KAAK,CAACyQ,MAAM;EACzB,IAAIE,SAAS,GAAGF,MAAM,CAACjQ,MAAM;EAC7B,IAAI6S,UAAU,GAAG/B,KAAK,CAACX,SAAS,GAAG,CAAC,CAAC;EACrC,IAAI2C,QAAQ,GAAGF,GAAG,CAACG,EAAE,KAAK,CAAC,GAAG,CAAC,GAAGH,GAAG,CAACG,EAAE,GAAGzE,QAAQ;EACnD,IAAI0E,MAAM,GAAG,CAACJ,GAAG,CAACG,EAAE,GAAGH,GAAG,CAACtE,QAAQ,IAAIA,QAAQ;EAC/C,IAAIjM,CAAC,KAAK,CAAC,EAAE;IACT4N,MAAM,CAAC1N,IAAI,CAACqQ,GAAG,CAACrJ,IAAI,CAAC;IACrBuH,KAAK,CAACvO,IAAI,CAACuQ,QAAQ,CAAC;EACxB,CAAC,MAAM;IACH,IAAID,UAAU,KAAKC,QAAQ,EAAE;MACzB,IAAIF,GAAG,CAACrJ,IAAI,KAAK3H,SAAS,EAAE;QACxBqO,MAAM,CAAC1N,IAAI,CAAC0N,MAAM,CAACE,SAAS,GAAG,CAAC,CAAC,CAAC;QAClCW,KAAK,CAACvO,IAAI,CAACuQ,QAAQ,CAAC;QACpBjC,OAAO,CAACtO,IAAI,CAACvD,MAAM,CAAC;MACxB;MACA,IAAIuK,IAAI,GAAGqJ,GAAG,CAACrJ,IAAI,KAAK3H,SAAS,GAAGgR,GAAG,CAACrJ,IAAI,GAAG0G,MAAM,CAACE,SAAS,GAAG,CAAC,CAAC;MACpEF,MAAM,CAAC1N,IAAI,CAACgH,IAAI,CAAC;MACjBuH,KAAK,CAACvO,IAAI,CAACuQ,QAAQ,CAAC;MACpBjC,OAAO,CAACtO,IAAI,CAACvD,MAAM,CAAC;IACxB,CAAC,MAAM,IAAI4T,GAAG,CAACrJ,IAAI,KAAK3H,SAAS,EAAE;MAC/BqO,MAAM,CAAC1N,IAAI,CAACqQ,GAAG,CAACrJ,IAAI,CAAC;MACrBuH,KAAK,CAACvO,IAAI,CAACuQ,QAAQ,CAAC;MACpBjC,OAAO,CAACtO,IAAI,CAACvD,MAAM,CAAC;IACxB;EACJ;EACAiR,MAAM,CAAC1N,IAAI,CAACqQ,GAAG,CAACpJ,EAAE,CAAC;EACnBsH,KAAK,CAACvO,IAAI,CAACyQ,MAAM,CAAC;EAClBnC,OAAO,CAACtO,IAAI,CAACqQ,GAAG,CAAC5E,IAAI,IAAI9O,SAAS,CAAC;EACnC,OAAOM,KAAK;AAChB,CAAC;AACD,IAAIyT,QAAQ,GAAG,SAAAA,CAAUlB,YAAY,EAAErR,EAAE,EAAE;EACvC,IAAI4J,EAAE,GAAG5J,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,GAAGA,EAAE;IAC5B4N,QAAQ,GAAGhE,EAAE,CAACgE,QAAQ;IACtBvD,OAAO,GAAGT,EAAE,CAACS,OAAO;IACpBiD,IAAI,GAAG1D,EAAE,CAAC0D,IAAI;IACdQ,IAAI,GAAGlE,EAAE,CAACkE,IAAI;IACdD,IAAI,GAAGjE,EAAE,CAACiE,IAAI;IACdE,IAAI,GAAGnE,EAAE,CAACmE,IAAI;EAClB,IAAIS,QAAQ,GAAG,CAAC;EAChB,IAAIgE,kBAAkB,GAAG,CAAC;EAC1B,IAAIlB,gBAAgB,GAAGD,YAAY,CAAC3K,MAAM,CAACqL,wBAAwB,EAAE,EAAE,CAAC;EACxE,IAAIU,aAAa,GAAG,EAAE;EACtBnB,gBAAgB,CAAC9Q,OAAO,CAAC,UAAUwR,WAAW,EAAE;IAC5C,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAE;MACjCxD,QAAQ,IAAInJ,UAAU,CAAC2M,WAAW,CAAC;IACvC,CAAC,MAAM,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAE;MACxCxD,QAAQ,GAAGwD,WAAW;IAC1B,CAAC,MAAM;MACH,IAAIE,GAAG,GAAGxW,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEsW,WAAW,CAAC,EAAE;QAAEK,EAAE,EAAE7D;MAAS,CAAC,CAAC;MAC/D0D,GAAG,CAACtE,QAAQ,GAAGsE,GAAG,CAACtE,QAAQ,KAAK1M,SAAS,GAAGiQ,gBAAgB,GAAGe,GAAG,CAACtE,QAAQ;MAC3E6E,aAAa,CAAC5Q,IAAI,CAACqQ,GAAG,CAAC;MACvB1D,QAAQ,IAAI0D,GAAG,CAACtE,QAAQ;MACxB4E,kBAAkB,GAAG9P,IAAI,CAAC6J,GAAG,CAACiG,kBAAkB,EAAEN,GAAG,CAACG,EAAE,GAAGH,GAAG,CAACtE,QAAQ,CAAC;IAC5E;EACJ,CAAC,CAAC;EACF,IAAI8E,MAAM,GAAG,CAAC,CAAC;EACf,IAAIC,OAAO,GAAGF,aAAa,CAACnT,MAAM;EAClC,KAAK,IAAIqC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgR,OAAO,EAAEhR,CAAC,EAAE,EAAE;IAC9B,IAAIuQ,GAAG,GAAGO,aAAa,CAAC9Q,CAAC,CAAC;IAC1B,IAAIiR,KAAK,GAAGV,GAAG,CAACU,KAAK;IACrB,IAAIA,KAAK,KAAK1R,SAAS,EAAE;MACrB,MAAM,IAAI2R,KAAK,CAAC,kBAAkB,CAAC;IACvC;IACA,IAAI,CAACH,MAAM,CAAC7N,cAAc,CAAC+N,KAAK,CAAC,EAAEF,MAAM,CAACE,KAAK,CAAC,GAAG,EAAE;IACrDF,MAAM,CAACE,KAAK,CAAC,CAAC/Q,IAAI,CAACqQ,GAAG,CAAC;EAC3B;EACA,IAAIY,cAAc,GAAG,CAAC,CAAC;EACvB,KAAK,IAAIlO,GAAG,IAAI8N,MAAM,EAAE;IACpB,IAAIA,MAAM,CAAC7N,cAAc,CAACD,GAAG,CAAC,EAAE;MAC5B,IAAImO,aAAa,GAAGL,MAAM,CAAC9N,GAAG,CAAC,CAAC8B,MAAM,CAACuL,iBAAiB,EAAE;QACtDrE,QAAQ,EAAE4E,kBAAkB;QAC5BrC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE,EAAE;QACTb,MAAM,EAAE;MACZ,CAAC,CAAC;MACFuD,cAAc,CAAClO,GAAG,CAAC,GAAGsL,SAAS,CAACxU,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEqX,aAAa,CAAC,EAAE;QAAEnF,QAAQ,EAAEA,QAAQ,IAAI4E,kBAAkB;QAAElF,IAAI,EAAEA,IAAI;QACxHjD,OAAO,EAAEA,OAAO;QAChByD,IAAI,EAAEA,IAAI;QACVC,IAAI,EAAEA,IAAI;QACVF,IAAI,EAAEA;MAAK,CAAC,CAAC,CAAC;IACtB;EACJ;EACA,OAAOjH,SAAS,CAACkM,cAAc,CAAC;AACpC,CAAC;AAED,IAAIE,MAAM,GAAG,SAAAA,CAAUC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAE;EAC7C,OAAO5R,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAI2T,UAAU,GAAGF,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC/N,GAAG,CAAC,UAAUgO,SAAS,EAAE;MACxDL,OAAO,CAACM,gBAAgB,CAACD,SAAS,EAAE7T,MAAM,EAAE0T,OAAO,CAAC;MACpD,OAAOG,SAAS;IACpB,CAAC,CAAC;IACF,OAAO;MACHrS,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOmS,UAAU,CAAC5S,OAAO,CAAC,UAAU8S,SAAS,EAAE;UAC3C,OAAOL,OAAO,CAACO,mBAAmB,CAACF,SAAS,EAAE7T,MAAM,EAAE0T,OAAO,CAAC;QAClE,CAAC,CAAC;MACN;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAIM,iBAAiB,GAAG,SAAAA,CAAA,EAAY;EAChC,OAAO;IACHC,OAAO,EAAE,CAAC;IACVC,OAAO,EAAE,CAAC;IACVC,KAAK,EAAE,CAAC;IACRC,KAAK,EAAE,CAAC;IACRC,CAAC,EAAE,CAAC;IACJC,CAAC,EAAE;EACP,CAAC;AACL,CAAC;AACD,IAAIC,YAAY,GAAG,SAAAA,CAAUC,CAAC,EAAEC,KAAK,EAAE;EACnC,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAGT,iBAAiB,CAAC,CAAC;EAC/B;EACAS,KAAK,CAACR,OAAO,GAAGQ,KAAK,CAACJ,CAAC,GAAGG,CAAC,CAACP,OAAO;EACnCQ,KAAK,CAACP,OAAO,GAAGO,KAAK,CAACH,CAAC,GAAGE,CAAC,CAACN,OAAO;EACnCO,KAAK,CAACN,KAAK,GAAGK,CAAC,CAACL,KAAK;EACrBM,KAAK,CAACL,KAAK,GAAGI,CAAC,CAACJ,KAAK;EACrB,OAAOK,KAAK;AAChB,CAAC;AAED,IAAIC,MAAM,GAAG,CAAC,aAAaV,iBAAiB,CAAC,CAAC,CAAC;AAC/C,IAAIW,aAAa,GAAG,KAAK;AACzB,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;EACjC,IAAIC,oBAAoB,GAAG,SAAAA,CAAUtU,EAAE,EAAE;IACrC,IAAIuU,OAAO,GAAGvU,EAAE,CAACuU,OAAO;IACxBH,aAAa,GAAG,IAAI;IACpB,IAAII,UAAU,GAAGD,OAAO,CAACjV,MAAM;IAC/B6U,MAAM,CAAC7U,MAAM,GAAG,CAAC;IACjB,KAAK,IAAIqC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6S,UAAU,EAAE7S,CAAC,EAAE,EAAE;MACjC,IAAI8S,SAAS,GAAGF,OAAO,CAAC5S,CAAC,CAAC;MAC1BwS,MAAM,CAACtS,IAAI,CAACmS,YAAY,CAACS,SAAS,CAAC,CAAC;IACxC;EACJ,CAAC;EACDzB,MAAM,CAACqB,QAAQ,EAAE,sBAAsB,EAAE;IACrCK,OAAO,EAAE,IAAI;IACbC,OAAO,EAAE;EACb,CAAC,CAAC,CAAC7T,KAAK,CAACwT,oBAAoB,CAAC;AAClC;AACA,IAAIM,UAAU,GAAG,SAAAA,CAAU5U,EAAE,EAAE;EAC3B,IAAI4J,EAAE,GAAG5J,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,GAAGA,EAAE;IAC5B6J,EAAE,GAAGD,EAAE,CAACiL,cAAc;IACtBA,cAAc,GAAGhL,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;IAC1CC,EAAE,GAAGF,EAAE,CAACkL,KAAK;IACbA,KAAK,GAAGhL,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;IAChCE,EAAE,GAAGJ,EAAE,CAACmL,MAAM;IACdA,MAAM,GAAG/K,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;EACrC,OAAOzI,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAIyG,MAAM,GAAG;MACTqO,OAAO,EAAEJ,MAAM;MACfW,KAAK,EAAEA,KAAK;MACZC,MAAM,EAAEA;IACZ,CAAC;IACD,IAAIC,eAAe,GAAG,GAAG;IACzB,IAAIC,eAAe,GAAG,GAAG;IACzB,IAAIC,SAAS,GAAGf,MAAM,CAAC7U,MAAM,GAAG,CAAC;IACjC,IAAI4V,SAAS,EAAE;MACX,IAAIC,UAAU,GAAGhB,MAAM,CAAC,CAAC,CAAC;QACtBiB,WAAW,GAAGjB,MAAM,CAAC,CAAC,CAAC;MAC3Ba,eAAe,GAAG/Y,QAAQ,CAACkZ,UAAU,EAAEC,WAAW,CAAC;MACnDH,eAAe,GAAGlZ,KAAK,CAACoZ,UAAU,EAAEC,WAAW,CAAC;IACpD;IACA,IAAIC,WAAW,GAAG,SAAAA,CAAA,EAAY;MAC1B,IAAIH,SAAS,EAAE;QACX,IAAIC,UAAU,GAAGhB,MAAM,CAAC,CAAC,CAAC;UACtBiB,WAAW,GAAGjB,MAAM,CAAC,CAAC,CAAC;QAC3B,IAAImB,WAAW,GAAGrZ,QAAQ,CAACkZ,UAAU,EAAEC,WAAW,CAAC;QACnD,IAAIG,WAAW,GAAGxZ,KAAK,CAACoZ,UAAU,EAAEC,WAAW,CAAC;QAChDlP,MAAM,CAAC4O,KAAK,GAAGA,KAAK,IAAIQ,WAAW,GAAGN,eAAe,CAAC;QACtD9O,MAAM,CAAC6O,MAAM,GAAGA,MAAM,IAAIQ,WAAW,GAAGN,eAAe,CAAC;MAC5D;MACAxV,MAAM,CAACyG,MAAM,CAAC;IAClB,CAAC;IACD,IAAIsP,MAAM,GAAG,SAAAA,CAAUvB,CAAC,EAAE;MACtB,IAAIY,cAAc,IAAIZ,CAAC,CAACM,OAAO,CAACjV,MAAM,GAAG,CAAC,EAAE2U,CAAC,CAACY,cAAc,CAAC,CAAC;MAC9DrX,IAAI,CAACiC,MAAM,CAAC4V,WAAW,CAAC;IAC5B,CAAC;IACD,IAAII,YAAY,GAAGzC,MAAM,CAACqB,QAAQ,EAAE,WAAW,EAAE;MAC7CK,OAAO,EAAE,CAACG;IACd,CAAC,CAAC,CAAC/T,KAAK,CAAC0U,MAAM,CAAC;IAChB,IAAIpB,aAAa,EAAE5W,IAAI,CAACiC,MAAM,CAAC4V,WAAW,CAAC;IAC3C,OAAO;MACHpU,IAAI,EAAE,SAAAA,CAAA,EAAY;QACdvD,UAAU,CAAC+B,MAAM,CAAC4V,WAAW,CAAC;QAC9BI,YAAY,CAACxU,IAAI,CAAC,CAAC;MACvB;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AACD,IAAIyU,gBAAgB,GAAG,SAAAA,CAAA,EAAY;EAC/B,OAAOtB,aAAa;AACxB,CAAC;AAED,IAAIF,KAAK,GAAG,aAAaT,iBAAiB,CAAC,CAAC;AAC5C,IAAIkC,aAAa,GAAG,KAAK;AACzB,IAAI,OAAOtB,QAAQ,KAAK,WAAW,EAAE;EACjC,IAAIuB,mBAAmB,GAAG,SAAAA,CAAU3B,CAAC,EAAE;IACnC0B,aAAa,GAAG,IAAI;IACpB3B,YAAY,CAACC,CAAC,EAAEC,KAAK,CAAC;EAC1B,CAAC;EACDlB,MAAM,CAACqB,QAAQ,EAAE,qBAAqB,EAAE,IAAI,CAAC,CAACvT,KAAK,CAAC8U,mBAAmB,CAAC;AAC5E;AACA,IAAIC,KAAK,GAAG,SAAAA,CAAU7V,EAAE,EAAE;EACtB,IAAI4J,EAAE,GAAG,CAAC5J,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,GAAGA,EAAE,EAAE6U,cAAc;IAC7CA,cAAc,GAAGjL,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;EAC9C,OAAOrI,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;IACtB,IAAI4V,WAAW,GAAG,SAAAA,CAAA,EAAY;MAC1B,OAAO5V,MAAM,CAACyU,KAAK,CAAC;IACxB,CAAC;IACD,IAAIsB,MAAM,GAAG,SAAAA,CAAUvB,CAAC,EAAE;MACtB,IAAIY,cAAc,EAAEZ,CAAC,CAACY,cAAc,CAAC,CAAC;MACtCrX,IAAI,CAACiC,MAAM,CAAC4V,WAAW,CAAC;IAC5B,CAAC;IACD,IAAII,YAAY,GAAGzC,MAAM,CAACqB,QAAQ,EAAE,WAAW,CAAC,CAACvT,KAAK,CAAC0U,MAAM,CAAC;IAC9D,IAAIG,aAAa,EAAEnY,IAAI,CAACiC,MAAM,CAAC4V,WAAW,CAAC;IAC3C,OAAO;MACHpU,IAAI,EAAE,SAAAA,CAAA,EAAY;QACdvD,UAAU,CAAC+B,MAAM,CAAC4V,WAAW,CAAC;QAC9BI,YAAY,CAACxU,IAAI,CAAC,CAAC;MACvB;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAI6U,aAAa,GAAG,SAAAA,CAAU9V,EAAE,EAAE;EAC9B,IAAImV,UAAU,GAAGnV,EAAE,CAAC,CAAC,CAAC;EACtB,OAAOmV,UAAU;AACrB,CAAC;AACD,IAAIY,OAAO,GAAG,SAAAA,CAAUjX,KAAK,EAAE;EAC3B,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAClBA,KAAK,GAAG,CAAC,CAAC;EACd;EACA,OAAO4W,gBAAgB,CAAC,CAAC,GAAGd,UAAU,CAAC9V,KAAK,CAAC,CAAChD,IAAI,CAAC,UAAUkE,EAAE,EAAE;IAC7D,IAAIuU,OAAO,GAAGvU,EAAE,CAACuU,OAAO;IACxB,OAAOA,OAAO;EAClB,CAAC,EAAEuB,aAAa,CAAC,GAAGD,KAAK,CAAC/W,KAAK,CAAC;AACpC,CAAC;AACD,IAAIkX,OAAO,GAAG,SAAAA,CAAUhW,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAK,KAAK,CAAC,EAAE;IACfA,EAAE,GAAG,CAAC,CAAC;EACX;EACA,IAAI8T,CAAC,GAAG9T,EAAE,CAAC8T,CAAC;IACRC,CAAC,GAAG/T,EAAE,CAAC+T,CAAC;IACRjV,KAAK,GAAGjD,MAAM,CAACmE,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;EAClC,IAAI8T,CAAC,KAAK5S,SAAS,IAAI6S,CAAC,KAAK7S,SAAS,EAAE;IACpC,IAAI+U,cAAc,GAAGnZ,WAAW,CAACgX,CAAC,IAAI,CAAC,CAAC;IACxC,IAAIoC,cAAc,GAAGpZ,WAAW,CAACiX,CAAC,IAAI,CAAC,CAAC;IACxC,IAAIoC,OAAO,GAAG;MAAErC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC;IAC5B,OAAOgC,OAAO,CAACjX,KAAK,CAAC,CAAChD,IAAI,CAAC,UAAUoY,KAAK,EAAE;MACxCiC,OAAO,CAACrC,CAAC,GAAGmC,cAAc,CAAC/B,KAAK,CAACJ,CAAC,CAAC;MACnCqC,OAAO,CAACpC,CAAC,GAAGmC,cAAc,CAAChC,KAAK,CAACH,CAAC,CAAC;MACnC,OAAOoC,OAAO;IAClB,CAAC,CAAC;EACN,CAAC,MAAM;IACH,OAAOJ,OAAO,CAACjX,KAAK,CAAC;EACzB;AACJ,CAAC;AAED,IAAIsX,KAAK,GAAG,SAAAA,CAAA,EAAY;EACpB,IAAIpQ,OAAO,GAAG,EAAE;EAChB,KAAK,IAAI5G,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;IAC1C4G,OAAO,CAAC5G,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;EAC/B;EACA,OAAOmC,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;MAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAI8B,CAAC,GAAG,CAAC;IACT,IAAI2C,OAAO;IACX,IAAI+R,WAAW,GAAG,SAAAA,CAAA,EAAY;MAC1B/R,OAAO,GAAG0B,OAAO,CAACrE,CAAC,CAAC,CAACb,KAAK,CAAC;QACvBjB,QAAQ,EAAE,SAAAA,CAAA,EAAY;UAClB8B,CAAC,EAAE;UACHA,CAAC,IAAIqE,OAAO,CAAC1G,MAAM,GAAGO,QAAQ,CAAC,CAAC,GAAGwW,WAAW,CAAC,CAAC;QACpD,CAAC;QACD5W,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC;IACD4W,WAAW,CAAC,CAAC;IACb,OAAO;MACHpV,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOqD,OAAO,IAAIA,OAAO,CAACrD,IAAI,CAAC,CAAC;MACpC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAIqV,SAAS,GAAG,SAAAA,CAAUhQ,CAAC,EAAEiQ,CAAC,EAAE;EAC5B,OAAOhV,MAAM,CAAC,UAAUtB,QAAQ,EAAE;IAC9B,IAAIuW,OAAO,GAAG,CAAC;IACf,IAAIC,OAAO,GAAGxP,UAAU,CAACX,CAAC,EAAEiQ,CAAC,CAAC,CAACzV,KAAK,CAACpF,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEuE,QAAQ,CAAC,EAAE;MAAER,MAAM,EAAE,SAAAA,CAAUO,EAAE,EAAE;QACtF,IAAI0W,EAAE,GAAG1W,EAAE,CAAC,CAAC,CAAC;UACV2W,EAAE,GAAG3W,EAAE,CAAC,CAAC,CAAC;QACdC,QAAQ,CAACR,MAAM,CAACrD,GAAG,CAACsa,EAAE,EAAEC,EAAE,EAAEH,OAAO,CAAC,CAAC;MACzC;IAAE,CAAC,CAAC,CAAC;IACT,OAAO;MACHI,UAAU,EAAE,SAAAA,CAAUlX,CAAC,EAAE;QACrB,OAAO8W,OAAO,GAAG9W,CAAC;MACtB,CAAC;MACDuB,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOwV,OAAO,CAACxV,IAAI,CAAC,CAAC;MACzB;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAI4V,KAAK,GAAG,SAAAA,CAAUC,WAAW,EAAE;EAC/B,OAAOvV,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIH,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAIkX,OAAO,GAAGC,UAAU,CAACnX,QAAQ,EAAEiX,WAAW,CAAC;IAC/C,OAAO;MACH7V,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOgW,YAAY,CAACF,OAAO,CAAC;MAChC;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAIG,KAAK,GAAG,SAAAA,CAAA,EAAY;EACpB,IAAIlR,OAAO,GAAG,EAAE;EAChB,KAAK,IAAI5G,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;IAC1C4G,OAAO,CAAC5G,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;EAC/B;EACA,OAAOmC,MAAM,CAAC,UAAUtB,QAAQ,EAAE;IAC9B,IAAIoG,IAAI,GAAGL,OAAO,CAACV,GAAG,CAAC,UAAU6R,UAAU,EAAE;MACzC,OAAOA,UAAU,CAACrW,KAAK,CAACb,QAAQ,CAAC;IACrC,CAAC,CAAC;IACF,OAAO;MACHgB,IAAI,EAAE,SAAAA,CAAA,EAAY;QACd,OAAOoF,IAAI,CAAC7F,OAAO,CAAC,UAAU4E,GAAG,EAAE;UAC/B,OAAOA,GAAG,CAACnE,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC;MACN;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAImW,QAAQ,GAAG,SAAAA,CAAUC,SAAS,EAAEC,SAAS,EAAE;EAC3C,OAAO/V,MAAM,CAAC,UAAUvB,EAAE,EAAE;IACxB,IAAIP,MAAM,GAAGO,EAAE,CAACP,MAAM;MAClBI,QAAQ,GAAGG,EAAE,CAACH,QAAQ;IAC1B,IAAI0X,MAAM;IACV,IAAIC,YAAY,GAAGH,SAAS,CAACvW,KAAK,CAAC;MAC/BrB,MAAM,EAAE,SAAAA,CAAA,EAAY;QAChB,OAAO8X,MAAM,KAAKrW,SAAS,IAAIzB,MAAM,CAAC8X,MAAM,CAAC;MACjD,CAAC;MACD1X,QAAQ,EAAEA;IACd,CAAC,CAAC;IACF,IAAI4X,YAAY,GAAGH,SAAS,CAACxW,KAAK,CAAC;MAC/BrB,MAAM,EAAE,SAAAA,CAAUC,CAAC,EAAE;QACjB,OAAO6X,MAAM,GAAG7X,CAAC;MACrB,CAAC;MACDG,QAAQ,EAAEA;IACd,CAAC,CAAC;IACF,OAAO;MACHoB,IAAI,EAAE,SAAAA,CAAA,EAAY;QACduW,YAAY,CAACvW,IAAI,CAAC,CAAC;QACnBwW,YAAY,CAACxW,IAAI,CAAC,CAAC;MACvB;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,IAAIyW,OAAO,GAAG,SAAAA,CAAU1R,OAAO,EAAE2R,QAAQ,EAAE;EACvC,IAAIC,gBAAgB,GAAG,OAAOD,QAAQ,KAAK,QAAQ;EACnD,IAAIE,gBAAgB,GAAG7R,OAAO,CAACV,GAAG,CAAC,UAAUgB,CAAC,EAAE3E,CAAC,EAAE;IAC/C,IAAImV,WAAW,GAAGc,gBAAgB,GAAGD,QAAQ,GAAGhW,CAAC,GAAGgW,QAAQ,CAAChW,CAAC,CAAC;IAC/D,OAAOyU,KAAK,CAACS,KAAK,CAACC,WAAW,CAAC,EAAExQ,CAAC,CAAC;EACvC,CAAC,CAAC;EACF,OAAOW,UAAU,CAACzH,KAAK,CAAC,KAAK,CAAC,EAAEqY,gBAAgB,CAAC;AACrD,CAAC;AAED,IAAIC,UAAU,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC7B,OAAO,UAAUrY,CAAC,EAAE;IAChB,OAAO,EAAE,GAAGA,CAAC,GAAGqY,IAAI;EACxB,CAAC;AACL,CAAC;AACD,IAAIzV,KAAK,GAAG,SAAAA,CAAU0V,EAAE,EAAErV,GAAG,EAAE4J,GAAG,EAAE;EAChC,IAAI5J,GAAG,KAAK,KAAK,CAAC,EAAE;IAChBA,GAAG,GAAG,CAAC;EACX;EACA,IAAI4J,GAAG,KAAK,KAAK,CAAC,EAAE;IAChBA,GAAG,GAAG,CAAC;EACX;EACA,OAAO,UAAU7M,CAAC,EAAE;IAChB,IAAI4E,OAAO,GAAGhI,QAAQ,CAACqG,GAAG,EAAE4J,GAAG,EAAE7M,CAAC,CAAC;IACnC,OAAOtD,GAAG,CAACuG,GAAG,EAAE4J,GAAG,EAAElK,YAAY,CAAC2V,EAAE,EAAE1T,OAAO,CAAC,CAAC;EACnD,CAAC;AACL,CAAC;AACD,IAAI2T,YAAY,GAAG,SAAAA,CAAUC,iBAAiB,EAAE;EAC5C,OAAO,UAAUxY,CAAC,EAAE;IAChB,IAAIwG,MAAM,GAAGxK,QAAQ,CAAC,CAAC,CAAC,EAAEgE,CAAC,CAAC;IAC5B,KAAK,IAAIkF,GAAG,IAAIsT,iBAAiB,EAAE;MAC/B,IAAIA,iBAAiB,CAACrT,cAAc,CAACD,GAAG,CAAC,EAAE;QACvC,IAAIuT,gBAAgB,GAAGD,iBAAiB,CAACtT,GAAG,CAAC;QAC7CsB,MAAM,CAACtB,GAAG,CAAC,GAAGuT,gBAAgB,CAACzY,CAAC,CAACkF,GAAG,CAAC,CAAC;MAC1C;IACJ;IACA,OAAOsB,MAAM;EACjB,CAAC;AACL,CAAC;AAED,IAAIkS,YAAY,GAAG,aAAapV,MAAM,CAACC,MAAM,CAAC;EAC1CC,SAAS,EAAE,IAAI;EACfpG,WAAW,EAAEA,WAAW;EACxBD,KAAK,EAAEA,KAAK;EACZE,WAAW,EAAEA,WAAW;EACxBC,WAAW,EAAEA,WAAW;EACxBqb,UAAU,EAAEpb,QAAQ;EACpBqb,UAAU,EAAE1b,QAAQ;EACpBd,IAAI,EAAEA,IAAI;EACVoB,MAAM,EAAEA,MAAM;EACdC,IAAI,EAAEA,IAAI;EACVob,oBAAoB,EAAEnb,WAAW;EACjCob,eAAe,EAAEnb,eAAe;EAChCob,YAAY,EAAEnb,iBAAiB;EAC/BC,IAAI,EAAEA,IAAI;EACVua,UAAU,EAAEA,UAAU;EACtBxV,KAAK,EAAEA,KAAK;EACZ2V,YAAY,EAAEA;AAClB,CAAC,CAAC;AAEF,IAAIS,GAAG,GAAG,SAAAA,CAAUzF,OAAO,EAAEnU,KAAK,EAAE;EAChCF,OAAO,CAAC,KAAK,EAAE,yCAAyC,CAAC;EACzD,OAAOF,MAAM,CAACuU,OAAO,EAAEnU,KAAK,CAAC;AACjC,CAAC;AACD,IAAI6Z,GAAG,GAAG,SAAAA,CAAU1F,OAAO,EAAEnU,KAAK,EAAE;EAChCF,OAAO,CAAC,KAAK,EAAE,yCAAyC,CAAC;EACzD,OAAOF,MAAM,CAACuU,OAAO,EAAEnU,KAAK,CAAC;AACjC,CAAC;AAED,SAAS8B,MAAM,EAAEkD,aAAa,EAAEvC,MAAM,EAAEwB,IAAI,EAAEqT,KAAK,EAAExP,SAAS,EAAE0P,SAAS,EAAEoC,GAAG,EAAE7N,WAAW,IAAIlB,KAAK,EAAEkN,KAAK,EAAE1J,KAAK,IAAIyL,UAAU,EAAE7W,KAAK,IAAIuK,OAAO,EAAE4D,SAAS,EAAE8C,MAAM,EAAEkE,KAAK,EAAErB,KAAK,EAAEzT,SAAS,EAAEwS,UAAU,EAAE3N,UAAU,IAAID,QAAQ,EAAEkK,aAAa,IAAIZ,OAAO,EAAE0F,OAAO,IAAID,OAAO,EAAEqB,QAAQ,EAAE/K,YAAY,IAAItB,MAAM,EAAE2M,OAAO,EAAEiB,GAAG,EAAEpG,QAAQ,EAAE6F,YAAY,IAAIpP,SAAS,EAAE2E,KAAK,EAAEpJ,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}